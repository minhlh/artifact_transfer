2017/11/10 18:21:38 [INFO] Created default configuration file at /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server-config.yaml
2017/11/10 18:21:38 [INFO] Starting server in home directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/10 18:21:38 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/10 18:21:38 [DEBUG] Making server filenames absolute
2017/11/10 18:21:38 [DEBUG] Initializing default CA in directory /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/10 18:21:38 [DEBUG] Init CA with home /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root and config {CA:{Name: Keyfile:ca-key.pem Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:0xc4202b28d0 CSR:{CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:<nil> CA:0xc4202b80c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1 hf.IntermediateCA:1]  }]} Affiliations:map[org2:[department1] org1:[department1 department2]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) TLS:{false [ldap-server-cert.pem] {ldap-client-key.pem ldap-client-cert.pem}}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [db-server-cert.pem] {db-client-key.pem db-client-cert.pem}}  } CSP:0xc4202a2ea0 Client:<nil> Intermediate:{ParentServer:{URL: CAName:} TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{Name: Secret: Profile: Label: CSR:<nil> CAName:}}}
2017/11/10 18:21:38 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/10 18:21:38 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4202a8d20 Pkcs11Opts:<nil>}
2017/11/10 18:21:38 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202b20a0 DummyKeystore:<nil>}
2017/11/10 18:21:38 [DEBUG] Initialize key material
2017/11/10 18:21:38 [DEBUG] Making CA filenames absolute
2017/11/10 18:21:38 [DEBUG] Getting CA cert; parent server URL is ''
2017/11/10 18:21:38 [DEBUG] Root CA certificate request: {CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:0xc4202b9260 CA:0xc4202b80c0 SerialNumber:}
2017/11/10 18:21:38 [INFO] generating key: &{A:ecdsa S:256}
2017/11/10 18:21:38 [DEBUG] generate key from request: algo=ecdsa, size=256
2017/11/10 18:21:39 [INFO] encoded CSR
2017/11/10 18:21:39 [DEBUG] validating configuration
2017/11/10 18:21:39 [DEBUG] validate local profile
2017/11/10 18:21:39 [DEBUG] profile is valid
2017/11/10 18:21:39 [INFO] signed certificate with serial number 287179961805713846751259134881100133284618257805
2017/11/10 18:21:39 [INFO] The CA key and certificate were generated for CA 
2017/11/10 18:21:39 [INFO] The key was stored by BCCSP provider 'SW'
2017/11/10 18:21:39 [INFO] The certificate is at: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/ca-cert.pem
2017/11/10 18:21:39 [DEBUG] Using sqlite database, connect to database in home (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db) directory
2017/11/10 18:21:39 [DEBUG] Database (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db) does not exist
2017/11/10 18:21:39 [DEBUG] Creating SQLite Database...
2017/11/10 18:21:39 [DEBUG] Database location: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db
2017/11/10 18:21:39 [DEBUG] Creating tables...
2017/11/10 18:21:39 [DEBUG] Created users table
2017/11/10 18:21:39 [DEBUG] Created affiliation table
2017/11/10 18:21:39 [DEBUG] Created certificates table
2017/11/10 18:21:39 [DEBUG] Successfully opened sqlite3 DB
2017/11/10 18:21:39 [DEBUG] Initializing identity registry
2017/11/10 18:21:39 [DEBUG] Initialized DB identity registry
2017/11/10 18:21:39 [DEBUG] Loading identity table
2017/11/10 18:21:39 [DEBUG] Loading identity 'admin'
2017/11/10 18:21:39 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:39 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/10 18:21:39 [DEBUG] DB: Add identity admin
2017/11/10 18:21:39 [DEBUG] Successfully added identity admin to the database
2017/11/10 18:21:39 [DEBUG] Registered identity: { Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1 hf.IntermediateCA:1]  }
2017/11/10 18:21:39 [DEBUG] Successfully loaded identity table
2017/11/10 18:21:39 [DEBUG] Loading affiliations table
2017/11/10 18:21:39 [DEBUG] Adding affiliation org2
2017/11/10 18:21:39 [DEBUG] DB: Add affiliation org2
2017/11/10 18:21:39 [DEBUG] Adding affiliation org2.department1
2017/11/10 18:21:39 [DEBUG] DB: Add affiliation org2.department1
2017/11/10 18:21:39 [DEBUG] Adding affiliation org1
2017/11/10 18:21:39 [DEBUG] DB: Add affiliation org1
2017/11/10 18:21:39 [DEBUG] Adding affiliation org1.department1
2017/11/10 18:21:39 [DEBUG] DB: Add affiliation org1.department1
2017/11/10 18:21:39 [DEBUG] Adding affiliation org1.department2
2017/11/10 18:21:39 [DEBUG] DB: Add affiliation org1.department2
2017/11/10 18:21:39 [DEBUG] Successfully loaded affiliations table
2017/11/10 18:21:39 [DEBUG] Successfully loaded groups table
2017/11/10 18:21:39 [INFO] Initialized sqlite3 database
2017/11/10 18:21:39 [DEBUG] Initializing enrollment signer
2017/11/10 18:21:39 [DEBUG] validating configuration
2017/11/10 18:21:39 [DEBUG] validate local profile
2017/11/10 18:21:39 [DEBUG] profile is valid
2017/11/10 18:21:39 [DEBUG] validate local profile
2017/11/10 18:21:39 [DEBUG] profile is valid
2017/11/10 18:21:39 [DEBUG] CA initialization successful
2017/11/10 18:21:39 [INFO] Home directory for default CA: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/10 18:21:39 [DEBUG] 1 CA instance(s) running on server
2017/11/10 18:21:39 [INFO] Listening on http://0.0.0.0:7104
2017/11/10 18:21:40 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["root","root"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBQDCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEtkQ5lnsqhdjHEwkI\neuSQf429gwjtvgV8bj2QMUNAMV96QVEq1oZ+Tq1HW1RdCszdW7bVPYGBNC8xTPXl\nBfcoYqAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK\nBggqhkjOPQQDAgNIADBFAiEAgSnGqrCZQ4ABBKHj265m2VYp+pBiIGq0/57ph80U\nlBcCIG3oZHw6dpmJ2iXwjJCezUbhGsZxK5ED+1LWGSbHFY8B\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:40 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:40 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:40 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 0
2017/11/10 18:21:40 [DEBUG] Successfully incremented state for identity admin to 1
2017/11/10 18:21:40 [DEBUG] DB: identity admin successfully logged in
2017/11/10 18:21:40 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:40 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:40 [DEBUG] Enrollment request: {SignRequest:{Hosts:[root root] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBQDCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEtkQ5lnsqhdjHEwkI
euSQf429gwjtvgV8bj2QMUNAMV96QVEq1oZ+Tq1HW1RdCszdW7bVPYGBNC8xTPXl
BfcoYqAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK
BggqhkjOPQQDAgNIADBFAiEAgSnGqrCZQ4ABBKHj265m2VYp+pBiIGq0/57ph80U
lBcCIG3oZHw6dpmJ2iXwjJCezUbhGsZxK5ED+1LWGSbHFY8B
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:40 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/10 18:21:40 [DEBUG] CSR authorization check passed
2017/11/10 18:21:40 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:40 [INFO] signed certificate with serial number 205130835504957951042558914117518038588764221413
2017/11/10 18:21:40 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:40 [DEBUG] Saved serial number as hex 23ee6281c9f116d8c04a398e68e56e7325306fe5
2017/11/10 18:21:40 [DEBUG] saved certificate with serial number 205130835504957951042558914117518038588764221413
2017/11/10 18:21:40 [INFO] [::1]:33550 - "POST /enroll" 200
2017/11/10 18:21:40 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBQjCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAETisC/m5sUAsTGR3m\nPLqoGQQftCFIS/V8g9kmQ2S/9WCO4Yfkm3MlzZIe+7kvqBeevJ1Cp0xqnA1nL/25\npWNvp6AqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy\nMAoGCCqGSM49BAMCA0gAMEUCIQDU2eW6UZ0kAQxJBTMtEW22B31b2x/s9ysLmQlh\n2SZ/+gIgdfxBZo/l1Zvva0OLz/D69C4HI5eL8Q+LLrzRsxBvUyo=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:40 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:40 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:40 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 1
2017/11/10 18:21:40 [DEBUG] Successfully incremented state for identity admin to 2
2017/11/10 18:21:40 [DEBUG] DB: identity admin successfully logged in
2017/11/10 18:21:40 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:40 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:40 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBQjCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAETisC/m5sUAsTGR3m
PLqoGQQftCFIS/V8g9kmQ2S/9WCO4Yfkm3MlzZIe+7kvqBeevJ1Cp0xqnA1nL/25
pWNvp6AqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy
MAoGCCqGSM49BAMCA0gAMEUCIQDU2eW6UZ0kAQxJBTMtEW22B31b2x/s9ysLmQlh
2SZ/+gIgdfxBZo/l1Zvva0OLz/D69C4HI5eL8Q+LLrzRsxBvUyo=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:40 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/10 18:21:40 [DEBUG] CSR authorization check passed
2017/11/10 18:21:40 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:40 [INFO] signed certificate with serial number 417956667143445214811687677649226997841038609743
2017/11/10 18:21:40 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:40 [DEBUG] Saved serial number as hex 4935d33cca00fd2904221504a0e2cd5810870d4f
2017/11/10 18:21:40 [DEBUG] saved certificate with serial number 417956667143445214811687677649226997841038609743
2017/11/10 18:21:40 [INFO] [::1]:33552 - "POST /enroll" 200
2017/11/10 18:21:40 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVU1RYVFBNb0EvU2tFSWhVRW9PTE5XQkNIRFU4d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFeE1ERTBNVGN3TUZvWERURTRNVEV4TURFME1UY3dNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFNHJBdjV1YkZBTEV4a2Q1ank2cUJrRUg3UWhTRXYxZklQWkprTmsKdi9WZ2p1R0g1SnR6SmMyU0h2dTVMNmdYbnJ5ZFFxZE1hcHdOWnkvOXVhVmpiNmVqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJUL2tRTWV5Q3Iwb3o0cFMxR2FFWnl3CkYzSXp5VEFmQmdOVkhTTUVHREFXZ0JUbDFiNUtCemV2VzdLR2MrS2JydGpUMGtNM3hEQVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdSeEc0ZmxyQUNieDBhaHJGRGJuQwp2Mk05OWE3ZkpWTmdMTmNRQ3R0YW9MMENJREJ0eGdJaStlRWllQ3VxTnZRczFZT3dmOU5zNXY5UjlxSkJwU1Y2CjNvN0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEQCIA5o425+01t54n1Ow3tmEkViNlw1onePug3MCOxuh1EWAiAiMqPaoXP6tQffWhnrwuGW+Ssii1QhZg4fQQeQrydl8w==
{"id":"nodeAdmin","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/10 18:21:40 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:40 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/10 18:21:40 [DEBUG] DB: Get certificate by serial (4935d33cca00fd2904221504a0e2cd5810870d4f) and aki (e5d5be4a0737af5bb28673e29baed8d3d24337c4)
2017/11/10 18:21:40 [DEBUG] Successful authentication of 'admin'
2017/11/10 18:21:40 [DEBUG] Register request received
2017/11/10 18:21:40 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:nodeAdmin Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/10 18:21:40 [DEBUG] canRegister - Check to see if user admin can register
2017/11/10 18:21:40 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:40 [DEBUG] Validate ID
2017/11/10 18:21:40 [DEBUG] An affiliation is required for identity type user
2017/11/10 18:21:40 [DEBUG] Validating affiliation: org1
2017/11/10 18:21:40 [DEBUG] DB: Get affiliation org1
2017/11/10 18:21:40 [DEBUG] Registering user id: nodeAdmin
2017/11/10 18:21:40 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/10 18:21:40 [DEBUG] DB: Getting identity nodeAdmin
2017/11/10 18:21:40 [DEBUG] DB: Add identity nodeAdmin
2017/11/10 18:21:40 [DEBUG] Successfully added identity nodeAdmin to the database
2017/11/10 18:21:40 [DEBUG] Registration completed - sending response 0xc4203f4068
2017/11/10 18:21:40 [INFO] [::1]:33554 - "POST /register" 200
2017/11/10 18:21:40 [DEBUG] Received request
POST /enroll
Authorization: Basic bm9kZUFkbWluOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBRjCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV\nBAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABGBZN9sUYJqc\nOMDQMzLS7S8EXy1A67wQQQKmO/Tu4d+7ypj6qmc1VBioDqiJZtMfxRZ/EmHIduoc\n73oDDChz9b+gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl\ncnZlcjAKBggqhkjOPQQDAgNIADBFAiEAkbewcDa3W9OopEaDE/4DmHAGk2XdhhEC\n6wCk5ue+bocCIGeTdd4meJ6y6d+BSsTCUaJmQOg9yO6+wFtZYCMQTBCC\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:40 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:40 [DEBUG] DB: Getting identity nodeAdmin
2017/11/10 18:21:40 [DEBUG] DB: Login user nodeAdmin with max enrollments of -1 and state of 0
2017/11/10 18:21:41 [DEBUG] Successfully incremented state for identity nodeAdmin to 1
2017/11/10 18:21:41 [DEBUG] DB: identity nodeAdmin successfully logged in
2017/11/10 18:21:41 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:41 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:41 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBRjCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV
BAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABGBZN9sUYJqc
OMDQMzLS7S8EXy1A67wQQQKmO/Tu4d+7ypj6qmc1VBioDqiJZtMfxRZ/EmHIduoc
73oDDChz9b+gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl
cnZlcjAKBggqhkjOPQQDAgNIADBFAiEAkbewcDa3W9OopEaDE/4DmHAGk2XdhhEC
6wCk5ue+bocCIGeTdd4meJ6y6d+BSsTCUaJmQOg9yO6+wFtZYCMQTBCC
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:41 [DEBUG] csrAuthCheck: enrollment ID=nodeAdmin, CommonName=nodeAdmin, Subject=<nil>
2017/11/10 18:21:41 [DEBUG] CSR authorization check passed
2017/11/10 18:21:41 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:41 [INFO] signed certificate with serial number 111530790282803698629686628803453476059592950756
2017/11/10 18:21:41 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:41 [DEBUG] Saved serial number as hex 138936aeccea758f52fd60f3c2cf7b1afb5a83e4
2017/11/10 18:21:41 [DEBUG] saved certificate with serial number 111530790282803698629686628803453476059592950756
2017/11/10 18:21:41 [INFO] [::1]:33556 - "POST /enroll" 200
2017/11/10 18:21:41 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVU1RYVFBNb0EvU2tFSWhVRW9PTE5XQkNIRFU4d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFeE1ERTBNVGN3TUZvWERURTRNVEV4TURFME1UY3dNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFNHJBdjV1YkZBTEV4a2Q1ank2cUJrRUg3UWhTRXYxZklQWkprTmsKdi9WZ2p1R0g1SnR6SmMyU0h2dTVMNmdYbnJ5ZFFxZE1hcHdOWnkvOXVhVmpiNmVqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJUL2tRTWV5Q3Iwb3o0cFMxR2FFWnl3CkYzSXp5VEFmQmdOVkhTTUVHREFXZ0JUbDFiNUtCemV2VzdLR2MrS2JydGpUMGtNM3hEQVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdSeEc0ZmxyQUNieDBhaHJGRGJuQwp2Mk05OWE3ZkpWTmdMTmNRQ3R0YW9MMENJREJ0eGdJaStlRWllQ3VxTnZRczFZT3dmOU5zNXY5UjlxSkJwU1Y2CjNvN0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEUCIQDnG8GU/4jLk9fRQzMzxhGb9YpL3Zvw5yiI4g5x8rP6PwIgO4iFu+ctWRPVJLmUghkEqW8e7X01pGavoGKk6PTJofs=
{"id":"User1@louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/10 18:21:41 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:41 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/10 18:21:41 [DEBUG] DB: Get certificate by serial (4935d33cca00fd2904221504a0e2cd5810870d4f) and aki (e5d5be4a0737af5bb28673e29baed8d3d24337c4)
2017/11/10 18:21:41 [DEBUG] Successful authentication of 'admin'
2017/11/10 18:21:41 [DEBUG] Register request received
2017/11/10 18:21:41 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:User1@louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/10 18:21:41 [DEBUG] canRegister - Check to see if user admin can register
2017/11/10 18:21:41 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:41 [DEBUG] Validate ID
2017/11/10 18:21:41 [DEBUG] An affiliation is required for identity type user
2017/11/10 18:21:41 [DEBUG] Validating affiliation: org1
2017/11/10 18:21:41 [DEBUG] DB: Get affiliation org1
2017/11/10 18:21:41 [DEBUG] Registering user id: User1@louvre.fr
2017/11/10 18:21:41 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/10 18:21:41 [DEBUG] DB: Getting identity User1@louvre.fr
2017/11/10 18:21:41 [DEBUG] DB: Add identity User1@louvre.fr
2017/11/10 18:21:41 [DEBUG] Successfully added identity User1@louvre.fr to the database
2017/11/10 18:21:41 [DEBUG] Registration completed - sending response 0xc420162068
2017/11/10 18:21:41 [INFO] [::1]:33558 - "POST /register" 200
2017/11/10 18:21:41 [DEBUG] Received request
POST /enroll
Authorization: Basic VXNlcjFAbG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMMD1VzZXIxQGxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABPhQ\n6v0mrJOmAvFoFVZkApxZyFYY0juqFrtVDSNr/O9SkqrJtvDWjDV5kFfNsRjiM+Ov\nfcrv1jidqxBaWftQHw6gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEA3pMet9EaGsu+VgshBq2uD1lY\nXs5JUOpglEtkNmUvjNcCIDIg6+fPVJDLe5//PY73PFI3XBVKxkxlj4ZQbbpBrm/t\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:41 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:41 [DEBUG] DB: Getting identity User1@louvre.fr
2017/11/10 18:21:41 [DEBUG] DB: Login user User1@louvre.fr with max enrollments of -1 and state of 0
2017/11/10 18:21:41 [DEBUG] Successfully incremented state for identity User1@louvre.fr to 1
2017/11/10 18:21:41 [DEBUG] DB: identity User1@louvre.fr successfully logged in
2017/11/10 18:21:41 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:41 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:41 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMMD1VzZXIxQGxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABPhQ
6v0mrJOmAvFoFVZkApxZyFYY0juqFrtVDSNr/O9SkqrJtvDWjDV5kFfNsRjiM+Ov
fcrv1jidqxBaWftQHw6gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEA3pMet9EaGsu+VgshBq2uD1lY
Xs5JUOpglEtkNmUvjNcCIDIg6+fPVJDLe5//PY73PFI3XBVKxkxlj4ZQbbpBrm/t
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:41 [DEBUG] csrAuthCheck: enrollment ID=User1@louvre.fr, CommonName=User1@louvre.fr, Subject=<nil>
2017/11/10 18:21:41 [DEBUG] CSR authorization check passed
2017/11/10 18:21:41 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:41 [INFO] signed certificate with serial number 642456489778737463886171353488179619966913524274
2017/11/10 18:21:41 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:41 [DEBUG] Saved serial number as hex 7088becff5c642a391f13e07082a20d0ceb2b232
2017/11/10 18:21:41 [DEBUG] saved certificate with serial number 642456489778737463886171353488179619966913524274
2017/11/10 18:21:41 [INFO] [::1]:33560 - "POST /enroll" 200
2017/11/10 18:21:41 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer0.louvre.fr","peer0"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEP8H7amu8ZOchI8Bx\nrJF6hUu2QxpXSerVlMzl7Y123zd8n73LcLdWcmXSnRvBF07T7F1SkekMLKDmyNVK\nJUUHFaA0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjAubG91dnJl\nLmZyggVwZWVyMDAKBggqhkjOPQQDAgNHADBEAiBeAJMQ+pJsJvnFnh2g66dXZKBe\n1b4qepfywzDGilrltwIgacCEvT7eOG4/jfhfKN4z/liLf64zuhoon3/Wq9NhtDE=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:41 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:41 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:41 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 2
2017/11/10 18:21:42 [DEBUG] Successfully incremented state for identity admin to 3
2017/11/10 18:21:42 [DEBUG] DB: identity admin successfully logged in
2017/11/10 18:21:42 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:42 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:42 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer0.louvre.fr peer0] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEP8H7amu8ZOchI8Bx
rJF6hUu2QxpXSerVlMzl7Y123zd8n73LcLdWcmXSnRvBF07T7F1SkekMLKDmyNVK
JUUHFaA0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjAubG91dnJl
LmZyggVwZWVyMDAKBggqhkjOPQQDAgNHADBEAiBeAJMQ+pJsJvnFnh2g66dXZKBe
1b4qepfywzDGilrltwIgacCEvT7eOG4/jfhfKN4z/liLf64zuhoon3/Wq9NhtDE=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:42 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/10 18:21:42 [DEBUG] CSR authorization check passed
2017/11/10 18:21:42 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:42 [INFO] signed certificate with serial number 388621358188383466803721284436737611925483330061
2017/11/10 18:21:42 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:42 [DEBUG] Saved serial number as hex 44126267e5f88b21ac6a72a68a8a830c19569a0d
2017/11/10 18:21:42 [DEBUG] saved certificate with serial number 388621358188383466803721284436737611925483330061
2017/11/10 18:21:42 [INFO] [::1]:33562 - "POST /enroll" 200
2017/11/10 18:21:42 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVU1RYVFBNb0EvU2tFSWhVRW9PTE5XQkNIRFU4d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFeE1ERTBNVGN3TUZvWERURTRNVEV4TURFME1UY3dNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFNHJBdjV1YkZBTEV4a2Q1ank2cUJrRUg3UWhTRXYxZklQWkprTmsKdi9WZ2p1R0g1SnR6SmMyU0h2dTVMNmdYbnJ5ZFFxZE1hcHdOWnkvOXVhVmpiNmVqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJUL2tRTWV5Q3Iwb3o0cFMxR2FFWnl3CkYzSXp5VEFmQmdOVkhTTUVHREFXZ0JUbDFiNUtCemV2VzdLR2MrS2JydGpUMGtNM3hEQVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdSeEc0ZmxyQUNieDBhaHJGRGJuQwp2Mk05OWE3ZkpWTmdMTmNRQ3R0YW9MMENJREJ0eGdJaStlRWllQ3VxTnZRczFZT3dmOU5zNXY5UjlxSkJwU1Y2CjNvN0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEQCIFereV2utCq/CFeBfC6VCxqRWRYaw5F5kwAcKJtmEmDQAiBg5U05jZXDrPW4qvh5r4GEJEB9htGyRp4oEOkaucWm5g==
{"id":"peer0.louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/10 18:21:42 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:42 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/10 18:21:42 [DEBUG] DB: Get certificate by serial (4935d33cca00fd2904221504a0e2cd5810870d4f) and aki (e5d5be4a0737af5bb28673e29baed8d3d24337c4)
2017/11/10 18:21:42 [DEBUG] Successful authentication of 'admin'
2017/11/10 18:21:42 [DEBUG] Register request received
2017/11/10 18:21:42 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer0.louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/10 18:21:42 [DEBUG] canRegister - Check to see if user admin can register
2017/11/10 18:21:42 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:42 [DEBUG] Validate ID
2017/11/10 18:21:42 [DEBUG] An affiliation is required for identity type user
2017/11/10 18:21:42 [DEBUG] Validating affiliation: org1
2017/11/10 18:21:42 [DEBUG] DB: Get affiliation org1
2017/11/10 18:21:42 [DEBUG] Registering user id: peer0.louvre.fr
2017/11/10 18:21:42 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/10 18:21:42 [DEBUG] DB: Getting identity peer0.louvre.fr
2017/11/10 18:21:42 [DEBUG] DB: Add identity peer0.louvre.fr
2017/11/10 18:21:42 [DEBUG] Successfully added identity peer0.louvre.fr to the database
2017/11/10 18:21:42 [DEBUG] Registration completed - sending response 0xc4203f4168
2017/11/10 18:21:42 [INFO] [::1]:33564 - "POST /register" 200
2017/11/10 18:21:42 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjAubG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMTD3BlZXIwLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABF5N\nEVKt4mRhFTd4RIxNTQ60+UgOUJTYMYYVzIzYwx6OY4pbbS5nFn1/ynGrwEKtBikB\nmKh2uCX9RckAW6tzdzSgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAiqFU/Nd3OvHCuZGoSGoNFF3W\nVFirup0FiTsRI91blroCIEEneOfxKoqZ+1eHHibeBIW6nBYEWAogzSZl8c2iXdAq\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:42 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:42 [DEBUG] DB: Getting identity peer0.louvre.fr
2017/11/10 18:21:42 [DEBUG] DB: Login user peer0.louvre.fr with max enrollments of -1 and state of 0
2017/11/10 18:21:42 [DEBUG] Successfully incremented state for identity peer0.louvre.fr to 1
2017/11/10 18:21:42 [DEBUG] DB: identity peer0.louvre.fr successfully logged in
2017/11/10 18:21:42 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:42 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:42 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMTD3BlZXIwLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABF5N
EVKt4mRhFTd4RIxNTQ60+UgOUJTYMYYVzIzYwx6OY4pbbS5nFn1/ynGrwEKtBikB
mKh2uCX9RckAW6tzdzSgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAiqFU/Nd3OvHCuZGoSGoNFF3W
VFirup0FiTsRI91blroCIEEneOfxKoqZ+1eHHibeBIW6nBYEWAogzSZl8c2iXdAq
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:42 [DEBUG] csrAuthCheck: enrollment ID=peer0.louvre.fr, CommonName=peer0.louvre.fr, Subject=<nil>
2017/11/10 18:21:42 [DEBUG] CSR authorization check passed
2017/11/10 18:21:42 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:42 [INFO] signed certificate with serial number 99325923829230912611632246861584682919040545883
2017/11/10 18:21:42 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:42 [DEBUG] Saved serial number as hex 1165edafe0f026ced2d6b2ce5867503578ba745b
2017/11/10 18:21:42 [DEBUG] saved certificate with serial number 99325923829230912611632246861584682919040545883
2017/11/10 18:21:42 [INFO] [::1]:33566 - "POST /enroll" 200
2017/11/10 18:21:42 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer1.louvre.fr","peer1"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBTDCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEMlH9Qq6tZ1cQcr8j\nHSPuYRBdeiv2wUmUDcQrAISr5f/rtm11us5Ac93ZS1e5MIjlUcWAEiG+AGtQl1i9\n6/hec6A0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjEubG91dnJl\nLmZyggVwZWVyMTAKBggqhkjOPQQDAgNIADBFAiEAoLl0PjMR2pTInEV7D3cHel2M\nJT9G/TRcy604a7cEmIgCIEywPtAgU0BEakMkLohl6KLQTpZig2x78Rwf0+gOMAxV\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:42 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:42 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:42 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 3
2017/11/10 18:21:42 [DEBUG] Successfully incremented state for identity admin to 4
2017/11/10 18:21:42 [DEBUG] DB: identity admin successfully logged in
2017/11/10 18:21:42 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:42 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:42 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer1.louvre.fr peer1] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBTDCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEMlH9Qq6tZ1cQcr8j
HSPuYRBdeiv2wUmUDcQrAISr5f/rtm11us5Ac93ZS1e5MIjlUcWAEiG+AGtQl1i9
6/hec6A0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjEubG91dnJl
LmZyggVwZWVyMTAKBggqhkjOPQQDAgNIADBFAiEAoLl0PjMR2pTInEV7D3cHel2M
JT9G/TRcy604a7cEmIgCIEywPtAgU0BEakMkLohl6KLQTpZig2x78Rwf0+gOMAxV
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:42 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/10 18:21:42 [DEBUG] CSR authorization check passed
2017/11/10 18:21:42 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:42 [INFO] signed certificate with serial number 591613288423246776582796774587068228668552778611
2017/11/10 18:21:42 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:42 [DEBUG] Saved serial number as hex 67a0db7c084556c318495be2fbe39642c6a21373
2017/11/10 18:21:43 [DEBUG] saved certificate with serial number 591613288423246776582796774587068228668552778611
2017/11/10 18:21:43 [INFO] [::1]:33568 - "POST /enroll" 200
2017/11/10 18:21:43 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVU1RYVFBNb0EvU2tFSWhVRW9PTE5XQkNIRFU4d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFeE1ERTBNVGN3TUZvWERURTRNVEV4TURFME1UY3dNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFNHJBdjV1YkZBTEV4a2Q1ank2cUJrRUg3UWhTRXYxZklQWkprTmsKdi9WZ2p1R0g1SnR6SmMyU0h2dTVMNmdYbnJ5ZFFxZE1hcHdOWnkvOXVhVmpiNmVqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJUL2tRTWV5Q3Iwb3o0cFMxR2FFWnl3CkYzSXp5VEFmQmdOVkhTTUVHREFXZ0JUbDFiNUtCemV2VzdLR2MrS2JydGpUMGtNM3hEQVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdSeEc0ZmxyQUNieDBhaHJGRGJuQwp2Mk05OWE3ZkpWTmdMTmNRQ3R0YW9MMENJREJ0eGdJaStlRWllQ3VxTnZRczFZT3dmOU5zNXY5UjlxSkJwU1Y2CjNvN0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEUCIQDNAmxiVFt74xQ/25FTbdqestYscEcUtcvw6pSd0HpXKwIgGQ1uU2ofjK4Q4sjoLMRsWJVjNAqaWDlQcdvvYvqhnQ0=
{"id":"peer1.louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/10 18:21:43 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:43 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/10 18:21:43 [DEBUG] DB: Get certificate by serial (4935d33cca00fd2904221504a0e2cd5810870d4f) and aki (e5d5be4a0737af5bb28673e29baed8d3d24337c4)
2017/11/10 18:21:43 [DEBUG] Successful authentication of 'admin'
2017/11/10 18:21:43 [DEBUG] Register request received
2017/11/10 18:21:43 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer1.louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/10 18:21:43 [DEBUG] canRegister - Check to see if user admin can register
2017/11/10 18:21:43 [DEBUG] DB: Getting identity admin
2017/11/10 18:21:43 [DEBUG] Validate ID
2017/11/10 18:21:43 [DEBUG] An affiliation is required for identity type user
2017/11/10 18:21:43 [DEBUG] Validating affiliation: org1
2017/11/10 18:21:43 [DEBUG] DB: Get affiliation org1
2017/11/10 18:21:43 [DEBUG] Registering user id: peer1.louvre.fr
2017/11/10 18:21:43 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/10 18:21:43 [DEBUG] DB: Getting identity peer1.louvre.fr
2017/11/10 18:21:43 [DEBUG] DB: Add identity peer1.louvre.fr
2017/11/10 18:21:43 [DEBUG] Successfully added identity peer1.louvre.fr to the database
2017/11/10 18:21:43 [DEBUG] Registration completed - sending response 0xc4201621b8
2017/11/10 18:21:43 [INFO] [::1]:33570 - "POST /register" 200
2017/11/10 18:21:43 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjEubG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBSzCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMTD3BlZXIxLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABAfh\neGAxsr6Tvv1PgGWWVqtUv9DbV3D8qylgG+Q4XOcciMzRbZfBMSOG3P8N4NN59bna\nn9hPylXLUcdlCPEfzo2gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiBdGFj7cZMXTIx84b+1WzuuypNP\nlqzELStYslkArU1WzQIgPZZ0t50uorXswrVAOBq/CHfgN/n7HiSH/y5VKemw30Q=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/10 18:21:43 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:43 [DEBUG] DB: Getting identity peer1.louvre.fr
2017/11/10 18:21:43 [DEBUG] DB: Login user peer1.louvre.fr with max enrollments of -1 and state of 0
2017/11/10 18:21:43 [DEBUG] Successfully incremented state for identity peer1.louvre.fr to 1
2017/11/10 18:21:43 [DEBUG] DB: identity peer1.louvre.fr successfully logged in
2017/11/10 18:21:43 [DEBUG] Identity/Pass was correct
2017/11/10 18:21:43 [DEBUG] Received request for endpoint enroll
2017/11/10 18:21:43 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBSzCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMTD3BlZXIxLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABAfh
eGAxsr6Tvv1PgGWWVqtUv9DbV3D8qylgG+Q4XOcciMzRbZfBMSOG3P8N4NN59bna
n9hPylXLUcdlCPEfzo2gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiBdGFj7cZMXTIx84b+1WzuuypNP
lqzELStYslkArU1WzQIgPZZ0t50uorXswrVAOBq/CHfgN/n7HiSH/y5VKemw30Q=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/10 18:21:43 [DEBUG] csrAuthCheck: enrollment ID=peer1.louvre.fr, CommonName=peer1.louvre.fr, Subject=<nil>
2017/11/10 18:21:43 [DEBUG] CSR authorization check passed
2017/11/10 18:21:43 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/10 18:21:43 [INFO] signed certificate with serial number 212867454272036392029039961999841921729101133846
2017/11/10 18:21:43 [DEBUG] DB: Insert Certificate
2017/11/10 18:21:43 [DEBUG] Saved serial number as hex 25494e88ed3f8d4ca809658624b65568d49d7816
2017/11/10 18:21:43 [DEBUG] saved certificate with serial number 212867454272036392029039961999841921729101133846
2017/11/10 18:21:43 [INFO] [::1]:33572 - "POST /enroll" 200
2017/11/10 18:21:43 [DEBUG] Received request
POST /cainfo
Authorization: Basic YWRtaW46YWRtaW5wdw==
{}
2017/11/10 18:21:43 [DEBUG] Directing traffic to default CA
2017/11/10 18:21:43 [DEBUG] Received request for server info
2017/11/10 18:21:43 [INFO] [::1]:33574 - "POST /cainfo" 200
