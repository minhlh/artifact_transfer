2017/11/03 20:51:09 [INFO] Created default configuration file at /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server-config.yaml
2017/11/03 20:51:09 [INFO] Starting server in home directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/03 20:51:09 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/03 20:51:09 [DEBUG] Making server filenames absolute
2017/11/03 20:51:09 [DEBUG] Initializing default CA in directory /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/03 20:51:09 [DEBUG] Init CA with home /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root and config {CA:{Name: Keyfile:ca-key.pem Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:0xc4202c7160 CSR:{CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:<nil> CA:0xc4202b5040 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.IntermediateCA:1 hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1]  }]} Affiliations:map[org1:[department1 department2] org2:[department1]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) TLS:{false [ldap-server-cert.pem] {ldap-client-key.pem ldap-client-cert.pem}}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [db-server-cert.pem] {db-client-key.pem db-client-cert.pem}}  } CSP:0xc4202cc620 Client:<nil> Intermediate:{ParentServer:{URL: CAName:} TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{Name: Secret: Profile: Label: CSR:<nil> CAName:}}}
2017/11/03 20:51:09 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/03 20:51:09 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4202bb110 Pkcs11Opts:<nil>}
2017/11/03 20:51:09 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202ce9c0 DummyKeystore:<nil>}
2017/11/03 20:51:09 [DEBUG] Initialize key material
2017/11/03 20:51:09 [DEBUG] Making CA filenames absolute
2017/11/03 20:51:09 [DEBUG] Getting CA cert; parent server URL is ''
2017/11/03 20:51:09 [DEBUG] Root CA certificate request: {CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:0xc4202cd220 CA:0xc4202b5040 SerialNumber:}
2017/11/03 20:51:09 [INFO] generating key: &{A:ecdsa S:256}
2017/11/03 20:51:09 [DEBUG] generate key from request: algo=ecdsa, size=256
2017/11/03 20:51:09 [INFO] encoded CSR
2017/11/03 20:51:09 [DEBUG] validating configuration
2017/11/03 20:51:09 [DEBUG] validate local profile
2017/11/03 20:51:09 [DEBUG] profile is valid
2017/11/03 20:51:09 [INFO] signed certificate with serial number 107389496293670385321723845107112565211835545087
2017/11/03 20:51:09 [INFO] The CA key and certificate were generated for CA 
2017/11/03 20:51:09 [INFO] The key was stored by BCCSP provider 'SW'
2017/11/03 20:51:09 [INFO] The certificate is at: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/ca-cert.pem
2017/11/03 20:51:09 [DEBUG] Using sqlite database, connect to database in home (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db) directory
2017/11/03 20:51:09 [DEBUG] Database (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db) does not exist
2017/11/03 20:51:09 [DEBUG] Creating SQLite Database...
2017/11/03 20:51:09 [DEBUG] Database location: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root/fabric-ca-server.db
2017/11/03 20:51:09 [DEBUG] Creating tables...
2017/11/03 20:51:10 [DEBUG] Created users table
2017/11/03 20:51:10 [DEBUG] Created affiliation table
2017/11/03 20:51:10 [DEBUG] Created certificates table
2017/11/03 20:51:10 [DEBUG] Successfully opened sqlite3 DB
2017/11/03 20:51:10 [DEBUG] Initializing identity registry
2017/11/03 20:51:10 [DEBUG] Initialized DB identity registry
2017/11/03 20:51:10 [DEBUG] Loading identity table
2017/11/03 20:51:10 [DEBUG] Loading identity 'admin'
2017/11/03 20:51:10 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:10 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/03 20:51:10 [DEBUG] DB: Add identity admin
2017/11/03 20:51:10 [DEBUG] Successfully added identity admin to the database
2017/11/03 20:51:10 [DEBUG] Registered identity: { Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1 hf.IntermediateCA:1]  }
2017/11/03 20:51:10 [DEBUG] Successfully loaded identity table
2017/11/03 20:51:10 [DEBUG] Loading affiliations table
2017/11/03 20:51:10 [DEBUG] Adding affiliation org1
2017/11/03 20:51:10 [DEBUG] DB: Add affiliation org1
2017/11/03 20:51:10 [DEBUG] Adding affiliation org1.department1
2017/11/03 20:51:10 [DEBUG] DB: Add affiliation org1.department1
2017/11/03 20:51:10 [DEBUG] Adding affiliation org1.department2
2017/11/03 20:51:10 [DEBUG] DB: Add affiliation org1.department2
2017/11/03 20:51:10 [DEBUG] Adding affiliation org2
2017/11/03 20:51:10 [DEBUG] DB: Add affiliation org2
2017/11/03 20:51:10 [DEBUG] Adding affiliation org2.department1
2017/11/03 20:51:10 [DEBUG] DB: Add affiliation org2.department1
2017/11/03 20:51:10 [DEBUG] Successfully loaded affiliations table
2017/11/03 20:51:10 [DEBUG] Successfully loaded groups table
2017/11/03 20:51:10 [INFO] Initialized sqlite3 database
2017/11/03 20:51:10 [DEBUG] Initializing enrollment signer
2017/11/03 20:51:10 [DEBUG] validating configuration
2017/11/03 20:51:10 [DEBUG] validate local profile
2017/11/03 20:51:10 [DEBUG] profile is valid
2017/11/03 20:51:10 [DEBUG] validate local profile
2017/11/03 20:51:10 [DEBUG] profile is valid
2017/11/03 20:51:10 [DEBUG] CA initialization successful
2017/11/03 20:51:10 [INFO] Home directory for default CA: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/louvre.fr/ca/root
2017/11/03 20:51:10 [DEBUG] 1 CA instance(s) running on server
2017/11/03 20:51:10 [INFO] Listening on http://0.0.0.0:7104
2017/11/03 20:51:10 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["root","root"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBPzCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE8UpQIaqazlS/50gA\nU8WjhMuHFVfC7ID11tb7r2ACWX1EKvx4gXfCCr3tBcL9BO+JCX+Hi4QnP4mj4f5J\nKT8nCqAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK\nBggqhkjOPQQDAgNHADBEAiBG2sE6En5qDrHUPpmE/WRciLV+j7dbEfiBcxGdcymd\nJgIgf68r073TjM/GLhhZfd4cla2dR24Le67BDKieEOpoo2k=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:10 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:10 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:10 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 0
2017/11/03 20:51:11 [DEBUG] Successfully incremented state for identity admin to 1
2017/11/03 20:51:11 [DEBUG] DB: identity admin successfully logged in
2017/11/03 20:51:11 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:11 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:11 [DEBUG] Enrollment request: {SignRequest:{Hosts:[root root] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBPzCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE8UpQIaqazlS/50gA
U8WjhMuHFVfC7ID11tb7r2ACWX1EKvx4gXfCCr3tBcL9BO+JCX+Hi4QnP4mj4f5J
KT8nCqAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK
BggqhkjOPQQDAgNHADBEAiBG2sE6En5qDrHUPpmE/WRciLV+j7dbEfiBcxGdcymd
JgIgf68r073TjM/GLhhZfd4cla2dR24Le67BDKieEOpoo2k=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:11 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/03 20:51:11 [DEBUG] CSR authorization check passed
2017/11/03 20:51:11 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:11 [INFO] signed certificate with serial number 683019656508521823734609830596754941013521593909
2017/11/03 20:51:11 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:11 [DEBUG] Saved serial number as hex 77a3a92150dca31800bebc743bff43be89e3f635
2017/11/03 20:51:11 [DEBUG] saved certificate with serial number 683019656508521823734609830596754941013521593909
2017/11/03 20:51:11 [INFO] [::1]:55736 - "POST /enroll" 200
2017/11/03 20:51:11 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBQTCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEpwmDAD36+FE0nzPI\nKsmhduIJ9eZxwZzYOvvRvlWCq0MuCU6AGn1zzwcnr+Oi5LZua+IhCphU3fFjbOPm\nbj734KAqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy\nMAoGCCqGSM49BAMCA0cAMEQCIEf9Lu0nrWSe7ojgov6nwECRBs2QGrKDzwYIjony\nHL+mAiBuKCzmSRU8WGf5Xfl4yXYp9aP9lGHEFeH7ysfP7oTrAw==\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:11 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:11 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:11 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 1
2017/11/03 20:51:11 [DEBUG] Successfully incremented state for identity admin to 2
2017/11/03 20:51:11 [DEBUG] DB: identity admin successfully logged in
2017/11/03 20:51:11 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:11 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:11 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBQTCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEpwmDAD36+FE0nzPI
KsmhduIJ9eZxwZzYOvvRvlWCq0MuCU6AGn1zzwcnr+Oi5LZua+IhCphU3fFjbOPm
bj734KAqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy
MAoGCCqGSM49BAMCA0cAMEQCIEf9Lu0nrWSe7ojgov6nwECRBs2QGrKDzwYIjony
HL+mAiBuKCzmSRU8WGf5Xfl4yXYp9aP9lGHEFeH7ysfP7oTrAw==
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:11 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/03 20:51:11 [DEBUG] CSR authorization check passed
2017/11/03 20:51:11 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:11 [INFO] signed certificate with serial number 89897785634325745235858645343244944589815859862
2017/11/03 20:51:11 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:11 [DEBUG] Saved serial number as hex fbf27f7e9554365b6c121c0ac6704ea83bcca96
2017/11/03 20:51:11 [DEBUG] saved certificate with serial number 89897785634325745235858645343244944589815859862
2017/11/03 20:51:11 [INFO] [::1]:55738 - "POST /enroll" 200
2017/11/03 20:51:11 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNRRENDQWVhZ0F3SUJBZ0lVRDc4bjkrbFZRMlcyd1NIQXJHY0U2b084eXBZd0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFd016RTJORFl3TUZvWERURTRNVEV3TXpFMk5EWXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLY0pnd0E5K3ZoUk5KOHp5Q3JKb1hiaUNmWG1jY0djMkRyNzBiNVYKZ3F0RExnbE9nQnA5Yzg4SEo2L2pvdVMyYm12aUlRcVlWTjN4WTJ6ajVtNCs5K0NqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSa2IxNVl4dDd5QTNnTTFXY0dPVlFsCmVkVE1LakFmQmdOVkhTTUVHREFXZ0JTa0Z2TmkwT2MxMDJueW12MGdqYlZVNGJFcVJ6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBTDg4aGFXZ0VXemIrTkRjTXFINgpFSFFMZ0lqankzYmRRZmFjazloMVhNNzhBaUFWb21jNVBDV0FtU1NRK0hwbUlRT04zVmVpS3ByYkg0dWsvWDBTClkyZE1iUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K.MEQCIF+RXgksfjZEFFBFxZSxH+13KKKEp94KXh0O0b4kNnEwAiBvWX8cUPXyFwqDG21ffBlJx9uIB+/lohuI/LHo+K1CmQ==
{"id":"nodeAdmin","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/03 20:51:11 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:11 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/03 20:51:11 [DEBUG] DB: Get certificate by serial (fbf27f7e9554365b6c121c0ac6704ea83bcca96) and aki (a416f362d0e735d369f29afd208db554e1b12a47)
2017/11/03 20:51:11 [DEBUG] Successful authentication of 'admin'
2017/11/03 20:51:11 [DEBUG] Register request received
2017/11/03 20:51:11 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:nodeAdmin Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/03 20:51:11 [DEBUG] canRegister - Check to see if user admin can register
2017/11/03 20:51:11 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:11 [DEBUG] Validate ID
2017/11/03 20:51:11 [DEBUG] An affiliation is required for identity type user
2017/11/03 20:51:11 [DEBUG] Validating affiliation: org1
2017/11/03 20:51:11 [DEBUG] DB: Get affiliation org1
2017/11/03 20:51:11 [DEBUG] Registering user id: nodeAdmin
2017/11/03 20:51:11 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/03 20:51:11 [DEBUG] DB: Getting identity nodeAdmin
2017/11/03 20:51:11 [DEBUG] DB: Add identity nodeAdmin
2017/11/03 20:51:11 [DEBUG] Successfully added identity nodeAdmin to the database
2017/11/03 20:51:11 [DEBUG] Registration completed - sending response 0xc420172050
2017/11/03 20:51:11 [INFO] [::1]:55740 - "POST /register" 200
2017/11/03 20:51:11 [DEBUG] Received request
POST /enroll
Authorization: Basic bm9kZUFkbWluOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBRjCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV\nBAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKB8IYf8CxcQ\n4p1L5LZD8GcLuX9/ezXJ2lhEJqkQGUuYK1wpXR9gfFlKywEHvBUqxEzGkIBOt7T5\nhRXhhVnOUPSgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl\ncnZlcjAKBggqhkjOPQQDAgNIADBFAiEA941gTS6EMHlPoeaUgKMfdc6qJox2FID5\n9NCV1PMGlS0CIEs+S5YrdMQnbx1NAVQHHzXNPaOXvnLySzfSvrA4A606\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:11 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:11 [DEBUG] DB: Getting identity nodeAdmin
2017/11/03 20:51:11 [DEBUG] DB: Login user nodeAdmin with max enrollments of -1 and state of 0
2017/11/03 20:51:12 [DEBUG] Successfully incremented state for identity nodeAdmin to 1
2017/11/03 20:51:12 [DEBUG] DB: identity nodeAdmin successfully logged in
2017/11/03 20:51:12 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:12 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:12 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBRjCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV
BAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKB8IYf8CxcQ
4p1L5LZD8GcLuX9/ezXJ2lhEJqkQGUuYK1wpXR9gfFlKywEHvBUqxEzGkIBOt7T5
hRXhhVnOUPSgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl
cnZlcjAKBggqhkjOPQQDAgNIADBFAiEA941gTS6EMHlPoeaUgKMfdc6qJox2FID5
9NCV1PMGlS0CIEs+S5YrdMQnbx1NAVQHHzXNPaOXvnLySzfSvrA4A606
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:12 [DEBUG] csrAuthCheck: enrollment ID=nodeAdmin, CommonName=nodeAdmin, Subject=<nil>
2017/11/03 20:51:12 [DEBUG] CSR authorization check passed
2017/11/03 20:51:12 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:12 [INFO] signed certificate with serial number 692257228321667847527922615561077239531255581944
2017/11/03 20:51:12 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:12 [DEBUG] Saved serial number as hex 7941e34105212dd26a5f935e231a8a5c9d9f4cf8
2017/11/03 20:51:12 [DEBUG] saved certificate with serial number 692257228321667847527922615561077239531255581944
2017/11/03 20:51:12 [INFO] [::1]:55742 - "POST /enroll" 200
2017/11/03 20:51:12 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNRRENDQWVhZ0F3SUJBZ0lVRDc4bjkrbFZRMlcyd1NIQXJHY0U2b084eXBZd0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFd016RTJORFl3TUZvWERURTRNVEV3TXpFMk5EWXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLY0pnd0E5K3ZoUk5KOHp5Q3JKb1hiaUNmWG1jY0djMkRyNzBiNVYKZ3F0RExnbE9nQnA5Yzg4SEo2L2pvdVMyYm12aUlRcVlWTjN4WTJ6ajVtNCs5K0NqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSa2IxNVl4dDd5QTNnTTFXY0dPVlFsCmVkVE1LakFmQmdOVkhTTUVHREFXZ0JTa0Z2TmkwT2MxMDJueW12MGdqYlZVNGJFcVJ6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBTDg4aGFXZ0VXemIrTkRjTXFINgpFSFFMZ0lqankzYmRRZmFjazloMVhNNzhBaUFWb21jNVBDV0FtU1NRK0hwbUlRT04zVmVpS3ByYkg0dWsvWDBTClkyZE1iUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K.MEUCIQCVIAg5htbs30FuImXIneRBV0Vkn3vWcFOpJOd6fXudlgIgeyMrYpivD0aiB8ELPxJgk+U5aSz86ceVsu7+JD+rkZ0=
{"id":"User1@louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/03 20:51:12 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:12 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/03 20:51:12 [DEBUG] DB: Get certificate by serial (fbf27f7e9554365b6c121c0ac6704ea83bcca96) and aki (a416f362d0e735d369f29afd208db554e1b12a47)
2017/11/03 20:51:12 [DEBUG] Successful authentication of 'admin'
2017/11/03 20:51:12 [DEBUG] Register request received
2017/11/03 20:51:12 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:User1@louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/03 20:51:12 [DEBUG] canRegister - Check to see if user admin can register
2017/11/03 20:51:12 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:12 [DEBUG] Validate ID
2017/11/03 20:51:12 [DEBUG] An affiliation is required for identity type user
2017/11/03 20:51:12 [DEBUG] Validating affiliation: org1
2017/11/03 20:51:12 [DEBUG] DB: Get affiliation org1
2017/11/03 20:51:12 [DEBUG] Registering user id: User1@louvre.fr
2017/11/03 20:51:12 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/03 20:51:12 [DEBUG] DB: Getting identity User1@louvre.fr
2017/11/03 20:51:12 [DEBUG] DB: Add identity User1@louvre.fr
2017/11/03 20:51:12 [DEBUG] Successfully added identity User1@louvre.fr to the database
2017/11/03 20:51:12 [DEBUG] Registration completed - sending response 0xc42000e0d0
2017/11/03 20:51:12 [INFO] [::1]:55744 - "POST /register" 200
2017/11/03 20:51:12 [DEBUG] Received request
POST /enroll
Authorization: Basic VXNlcjFAbG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMMD1VzZXIxQGxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABHBM\nfyqPLp+vOjyKB6kZ2je2ypfwSrrrm3/KqZFlANbeTczxHy4N1OujnMurWfK8LDUQ\nyKCSng2ksIa4J093WEegKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAo81un6s8mmG9untwKU8gMtbv\nBJklT0PzwqrBhQqNduwCICpBXQHzvHIMvj9TKWTwRSCVmjHLgc/YMUobpgUDIAeO\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:12 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:12 [DEBUG] DB: Getting identity User1@louvre.fr
2017/11/03 20:51:12 [DEBUG] DB: Login user User1@louvre.fr with max enrollments of -1 and state of 0
2017/11/03 20:51:12 [DEBUG] Successfully incremented state for identity User1@louvre.fr to 1
2017/11/03 20:51:12 [DEBUG] DB: identity User1@louvre.fr successfully logged in
2017/11/03 20:51:12 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:12 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:12 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMMD1VzZXIxQGxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABHBM
fyqPLp+vOjyKB6kZ2je2ypfwSrrrm3/KqZFlANbeTczxHy4N1OujnMurWfK8LDUQ
yKCSng2ksIa4J093WEegKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAo81un6s8mmG9untwKU8gMtbv
BJklT0PzwqrBhQqNduwCICpBXQHzvHIMvj9TKWTwRSCVmjHLgc/YMUobpgUDIAeO
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:12 [DEBUG] csrAuthCheck: enrollment ID=User1@louvre.fr, CommonName=User1@louvre.fr, Subject=<nil>
2017/11/03 20:51:12 [DEBUG] CSR authorization check passed
2017/11/03 20:51:12 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:12 [INFO] signed certificate with serial number 137913322707592869423539163825733316413263275161
2017/11/03 20:51:12 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:12 [DEBUG] Saved serial number as hex 18283f4d5d61531c97498c3083ac0bc844a96499
2017/11/03 20:51:12 [DEBUG] saved certificate with serial number 137913322707592869423539163825733316413263275161
2017/11/03 20:51:12 [INFO] [::1]:55746 - "POST /enroll" 200
2017/11/03 20:51:12 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer0.louvre.fr","peer0"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEAbo7Jsd3RtfopvGv\nN0szTtIVDDpkg7Qb5igZvRHXhyhgi+RckcZvrTHv8lQr9OGLG42GGdv+4GPhOz0r\nzZwgIKA0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjAubG91dnJl\nLmZyggVwZWVyMDAKBggqhkjOPQQDAgNHADBEAiB0xsxOlHXc86Lepn8+FWS39Mmx\nS57Gxxh1XRL7UT+VCwIgVkxyPMdcaQEZZuteqcCE75++A/K0mzMYClEVP5T6mts=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:12 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:12 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:12 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 2
2017/11/03 20:51:12 [DEBUG] Successfully incremented state for identity admin to 3
2017/11/03 20:51:12 [DEBUG] DB: identity admin successfully logged in
2017/11/03 20:51:12 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:12 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:12 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer0.louvre.fr peer0] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEAbo7Jsd3RtfopvGv
N0szTtIVDDpkg7Qb5igZvRHXhyhgi+RckcZvrTHv8lQr9OGLG42GGdv+4GPhOz0r
zZwgIKA0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjAubG91dnJl
LmZyggVwZWVyMDAKBggqhkjOPQQDAgNHADBEAiB0xsxOlHXc86Lepn8+FWS39Mmx
S57Gxxh1XRL7UT+VCwIgVkxyPMdcaQEZZuteqcCE75++A/K0mzMYClEVP5T6mts=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:12 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/03 20:51:12 [DEBUG] CSR authorization check passed
2017/11/03 20:51:12 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:12 [INFO] signed certificate with serial number 360581601110737210682766873339511809816655293590
2017/11/03 20:51:12 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:12 [DEBUG] Saved serial number as hex 3f2909c7ca5241fe5680cc2f80d8ca983157ec96
2017/11/03 20:51:13 [DEBUG] saved certificate with serial number 360581601110737210682766873339511809816655293590
2017/11/03 20:51:13 [INFO] [::1]:55748 - "POST /enroll" 200
2017/11/03 20:51:13 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNRRENDQWVhZ0F3SUJBZ0lVRDc4bjkrbFZRMlcyd1NIQXJHY0U2b084eXBZd0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFd016RTJORFl3TUZvWERURTRNVEV3TXpFMk5EWXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLY0pnd0E5K3ZoUk5KOHp5Q3JKb1hiaUNmWG1jY0djMkRyNzBiNVYKZ3F0RExnbE9nQnA5Yzg4SEo2L2pvdVMyYm12aUlRcVlWTjN4WTJ6ajVtNCs5K0NqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSa2IxNVl4dDd5QTNnTTFXY0dPVlFsCmVkVE1LakFmQmdOVkhTTUVHREFXZ0JTa0Z2TmkwT2MxMDJueW12MGdqYlZVNGJFcVJ6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBTDg4aGFXZ0VXemIrTkRjTXFINgpFSFFMZ0lqankzYmRRZmFjazloMVhNNzhBaUFWb21jNVBDV0FtU1NRK0hwbUlRT04zVmVpS3ByYkg0dWsvWDBTClkyZE1iUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K.MEUCIQCMAmWiA6JVqvHdHxDnl+gtQNODRYVCJzDae3pYG7ZKdgIgWSeCdxMC/OCwBr/+InjbeNlVH8LoQ3/r0VnZTyKKYAM=
{"id":"peer0.louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/03 20:51:13 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:13 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/03 20:51:13 [DEBUG] DB: Get certificate by serial (fbf27f7e9554365b6c121c0ac6704ea83bcca96) and aki (a416f362d0e735d369f29afd208db554e1b12a47)
2017/11/03 20:51:13 [DEBUG] Successful authentication of 'admin'
2017/11/03 20:51:13 [DEBUG] Register request received
2017/11/03 20:51:13 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer0.louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/03 20:51:13 [DEBUG] canRegister - Check to see if user admin can register
2017/11/03 20:51:13 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:13 [DEBUG] Validate ID
2017/11/03 20:51:13 [DEBUG] An affiliation is required for identity type user
2017/11/03 20:51:13 [DEBUG] Validating affiliation: org1
2017/11/03 20:51:13 [DEBUG] DB: Get affiliation org1
2017/11/03 20:51:13 [DEBUG] Registering user id: peer0.louvre.fr
2017/11/03 20:51:13 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/03 20:51:13 [DEBUG] DB: Getting identity peer0.louvre.fr
2017/11/03 20:51:13 [DEBUG] DB: Add identity peer0.louvre.fr
2017/11/03 20:51:13 [DEBUG] Successfully added identity peer0.louvre.fr to the database
2017/11/03 20:51:13 [DEBUG] Registration completed - sending response 0xc4201620d8
2017/11/03 20:51:13 [INFO] [::1]:55750 - "POST /register" 200
2017/11/03 20:51:13 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjAubG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBSzCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMTD3BlZXIwLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABDQ+\n13goTdqb8TZv1FJhTVwIZA7Pngzz7UBqFL3+GwG584G97Q/yAUQB6tJ4p8nFyWFw\nHGptIVXLfYQ1GGeHGfqgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiBBs4A9440bV4/AFRj6RKd+ftRa\nsd0daQLCuYV4tTS6ZAIgSEWWxFSX537rnNOve5SdmhUMWQw5GZGDOMTON+3Fzmw=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:13 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:13 [DEBUG] DB: Getting identity peer0.louvre.fr
2017/11/03 20:51:13 [DEBUG] DB: Login user peer0.louvre.fr with max enrollments of -1 and state of 0
2017/11/03 20:51:13 [DEBUG] Successfully incremented state for identity peer0.louvre.fr to 1
2017/11/03 20:51:13 [DEBUG] DB: identity peer0.louvre.fr successfully logged in
2017/11/03 20:51:13 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:13 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:13 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBSzCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMTD3BlZXIwLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABDQ+
13goTdqb8TZv1FJhTVwIZA7Pngzz7UBqFL3+GwG584G97Q/yAUQB6tJ4p8nFyWFw
HGptIVXLfYQ1GGeHGfqgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiBBs4A9440bV4/AFRj6RKd+ftRa
sd0daQLCuYV4tTS6ZAIgSEWWxFSX537rnNOve5SdmhUMWQw5GZGDOMTON+3Fzmw=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:13 [DEBUG] csrAuthCheck: enrollment ID=peer0.louvre.fr, CommonName=peer0.louvre.fr, Subject=<nil>
2017/11/03 20:51:13 [DEBUG] CSR authorization check passed
2017/11/03 20:51:13 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:13 [INFO] signed certificate with serial number 314123622513159839676941010915064501814879567210
2017/11/03 20:51:13 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:13 [DEBUG] Saved serial number as hex 3705ca574f64b3278a7ed2c18ce6d8343cefbd6a
2017/11/03 20:51:13 [DEBUG] saved certificate with serial number 314123622513159839676941010915064501814879567210
2017/11/03 20:51:13 [INFO] [::1]:55752 - "POST /enroll" 200
2017/11/03 20:51:13 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer1.louvre.fr","peer1"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEi7a8F6EWjYYhHxew\nHDod7s1YISuixG7ayq/78xqffkDqMDnLtCn5Yyb0pvO3jEjQRHWlihfnlP01/xrE\nt3kRd6A0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjEubG91dnJl\nLmZyggVwZWVyMTAKBggqhkjOPQQDAgNHADBEAiAd9sR10qwOQGZe8CFYMZXwO04R\nRCgSpFzqApIxSnQ+zgIgbD8L6Hnsr/r3w9Wf1PSu4Ktg4B/F645Z0W9wUjDKBEw=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:13 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:13 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:13 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 3
2017/11/03 20:51:13 [DEBUG] Successfully incremented state for identity admin to 4
2017/11/03 20:51:13 [DEBUG] DB: identity admin successfully logged in
2017/11/03 20:51:13 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:13 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:13 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer1.louvre.fr peer1] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBSzCB8wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEi7a8F6EWjYYhHxew
HDod7s1YISuixG7ayq/78xqffkDqMDnLtCn5Yyb0pvO3jEjQRHWlihfnlP01/xrE
t3kRd6A0MDIGCSqGSIb3DQEJDjElMCMwIQYDVR0RBBowGIIPcGVlcjEubG91dnJl
LmZyggVwZWVyMTAKBggqhkjOPQQDAgNHADBEAiAd9sR10qwOQGZe8CFYMZXwO04R
RCgSpFzqApIxSnQ+zgIgbD8L6Hnsr/r3w9Wf1PSu4Ktg4B/F645Z0W9wUjDKBEw=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:13 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/11/03 20:51:13 [DEBUG] CSR authorization check passed
2017/11/03 20:51:13 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:13 [INFO] signed certificate with serial number 68117233503288228484436874419838239166854895812
2017/11/03 20:51:13 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:13 [DEBUG] Saved serial number as hex bee7b7df120069277fca2ce75a312579c2098c4
2017/11/03 20:51:13 [DEBUG] saved certificate with serial number 68117233503288228484436874419838239166854895812
2017/11/03 20:51:13 [INFO] [::1]:55754 - "POST /enroll" 200
2017/11/03 20:51:14 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNRRENDQWVhZ0F3SUJBZ0lVRDc4bjkrbFZRMlcyd1NIQXJHY0U2b084eXBZd0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRFd016RTJORFl3TUZvWERURTRNVEV3TXpFMk5EWXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLY0pnd0E5K3ZoUk5KOHp5Q3JKb1hiaUNmWG1jY0djMkRyNzBiNVYKZ3F0RExnbE9nQnA5Yzg4SEo2L2pvdVMyYm12aUlRcVlWTjN4WTJ6ajVtNCs5K0NqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSa2IxNVl4dDd5QTNnTTFXY0dPVlFsCmVkVE1LakFmQmdOVkhTTUVHREFXZ0JTa0Z2TmkwT2MxMDJueW12MGdqYlZVNGJFcVJ6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBTDg4aGFXZ0VXemIrTkRjTXFINgpFSFFMZ0lqankzYmRRZmFjazloMVhNNzhBaUFWb21jNVBDV0FtU1NRK0hwbUlRT04zVmVpS3ByYkg0dWsvWDBTClkyZE1iUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K.MEQCIF0Fd9TnhNcwy6eCZ0TAWR8FGtPOIRrkpUXhVlRDBJ94AiAJR420/h0y1BKLT6Z6Vv/U95+8npytudDeBFPF74HITg==
{"id":"peer1.louvre.fr","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/11/03 20:51:14 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:14 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/11/03 20:51:14 [DEBUG] DB: Get certificate by serial (fbf27f7e9554365b6c121c0ac6704ea83bcca96) and aki (a416f362d0e735d369f29afd208db554e1b12a47)
2017/11/03 20:51:14 [DEBUG] Successful authentication of 'admin'
2017/11/03 20:51:14 [DEBUG] Register request received
2017/11/03 20:51:14 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer1.louvre.fr Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/11/03 20:51:14 [DEBUG] canRegister - Check to see if user admin can register
2017/11/03 20:51:14 [DEBUG] DB: Getting identity admin
2017/11/03 20:51:14 [DEBUG] Validate ID
2017/11/03 20:51:14 [DEBUG] An affiliation is required for identity type user
2017/11/03 20:51:14 [DEBUG] Validating affiliation: org1
2017/11/03 20:51:14 [DEBUG] DB: Get affiliation org1
2017/11/03 20:51:14 [DEBUG] Registering user id: peer1.louvre.fr
2017/11/03 20:51:14 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/11/03 20:51:14 [DEBUG] DB: Getting identity peer1.louvre.fr
2017/11/03 20:51:14 [DEBUG] DB: Add identity peer1.louvre.fr
2017/11/03 20:51:14 [DEBUG] Successfully added identity peer1.louvre.fr to the database
2017/11/03 20:51:14 [DEBUG] Registration completed - sending response 0xc42000e1b0
2017/11/03 20:51:14 [INFO] [::1]:55756 - "POST /register" 200
2017/11/03 20:51:14 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjEubG91dnJlLmZyOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV\nBAMTD3BlZXIxLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABHA+\nb6RxQnpxOOsPIIckj8b6El+9VxMrfjaYz0hr1Dn/59e9zMz0We3IofLJOR0FinxK\nLqUKsgquDI4GxONjbB6gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi\ndW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAn4uFGFCPDOsPtJpHlsCCOZzL\n2JOywhtPAIJLKNbwA2ACIFu5PvNgBK+66Uq2lygT4OlBPGwe63yRPrPa4JwneJK6\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/11/03 20:51:14 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:14 [DEBUG] DB: Getting identity peer1.louvre.fr
2017/11/03 20:51:14 [DEBUG] DB: Login user peer1.louvre.fr with max enrollments of -1 and state of 0
2017/11/03 20:51:14 [DEBUG] Successfully incremented state for identity peer1.louvre.fr to 1
2017/11/03 20:51:14 [DEBUG] DB: identity peer1.louvre.fr successfully logged in
2017/11/03 20:51:14 [DEBUG] Identity/Pass was correct
2017/11/03 20:51:14 [DEBUG] Received request for endpoint enroll
2017/11/03 20:51:14 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBTDCB8wIBADBnMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxGDAWBgNV
BAMTD3BlZXIxLmxvdXZyZS5mcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABHA+
b6RxQnpxOOsPIIckj8b6El+9VxMrfjaYz0hr1Dn/59e9zMz0We3IofLJOR0FinxK
LqUKsgquDI4GxONjbB6gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVi
dW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAn4uFGFCPDOsPtJpHlsCCOZzL
2JOywhtPAIJLKNbwA2ACIFu5PvNgBK+66Uq2lygT4OlBPGwe63yRPrPa4JwneJK6
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/11/03 20:51:14 [DEBUG] csrAuthCheck: enrollment ID=peer1.louvre.fr, CommonName=peer1.louvre.fr, Subject=<nil>
2017/11/03 20:51:14 [DEBUG] CSR authorization check passed
2017/11/03 20:51:14 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/11/03 20:51:14 [INFO] signed certificate with serial number 370161850670336645492156342411013041679199154108
2017/11/03 20:51:14 [DEBUG] DB: Insert Certificate
2017/11/03 20:51:14 [DEBUG] Saved serial number as hex 40d6a1a6e1dbc69ba92ecb655ef7352af33cafbc
2017/11/03 20:51:14 [DEBUG] saved certificate with serial number 370161850670336645492156342411013041679199154108
2017/11/03 20:51:14 [INFO] [::1]:55758 - "POST /enroll" 200
2017/11/03 20:51:14 [DEBUG] Received request
POST /cainfo
Authorization: Basic YWRtaW46YWRtaW5wdw==
{}
2017/11/03 20:51:14 [DEBUG] Directing traffic to default CA
2017/11/03 20:51:14 [DEBUG] Received request for server info
2017/11/03 20:51:14 [INFO] [::1]:55760 - "POST /cainfo" 200
