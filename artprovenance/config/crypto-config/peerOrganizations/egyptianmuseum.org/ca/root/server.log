2017/10/31 01:06:15 [INFO] Created default configuration file at /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root/fabric-ca-server-config.yaml
2017/10/31 01:06:15 [INFO] Starting server in home directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root
2017/10/31 01:06:15 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root
2017/10/31 01:06:15 [DEBUG] Making server filenames absolute
2017/10/31 01:06:15 [DEBUG] Initializing default CA in directory /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root
2017/10/31 01:06:15 [DEBUG] Init CA with home /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root and config {CA:{Name: Keyfile:ca-key.pem Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:0xc4202bc040 CSR:{CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:<nil> CA:0xc4202afa80 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.IntermediateCA:1 hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1]  }]} Affiliations:map[org2:[department1] org1:[department1 department2]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) TLS:{false [ldap-server-cert.pem] {ldap-client-key.pem ldap-client-cert.pem}}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [db-server-cert.pem] {db-client-key.pem db-client-cert.pem}}  } CSP:0xc4202c22a0 Client:<nil> Intermediate:{ParentServer:{URL: CAName:} TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{Name: Secret: Profile: Label: CSR:<nil> CAName:}}}
2017/10/31 01:06:15 [DEBUG] CA Home Directory: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root
2017/10/31 01:06:15 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4202b1050 Pkcs11Opts:<nil>}
2017/10/31 01:06:15 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202c4490 DummyKeystore:<nil>}
2017/10/31 01:06:15 [DEBUG] Initialize key material
2017/10/31 01:06:15 [DEBUG] Making CA filenames absolute
2017/10/31 01:06:15 [DEBUG] Getting CA cert; parent server URL is ''
2017/10/31 01:06:15 [DEBUG] Root CA certificate request: {CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[UbuntuServer localhost] KeyRequest:0xc4202c3220 CA:0xc4202afa80 SerialNumber:}
2017/10/31 01:06:15 [INFO] generating key: &{A:ecdsa S:256}
2017/10/31 01:06:15 [DEBUG] generate key from request: algo=ecdsa, size=256
2017/10/31 01:06:15 [INFO] encoded CSR
2017/10/31 01:06:15 [DEBUG] validating configuration
2017/10/31 01:06:15 [DEBUG] validate local profile
2017/10/31 01:06:15 [DEBUG] profile is valid
2017/10/31 01:06:15 [INFO] signed certificate with serial number 20671659630269907084877466124986701979912761368
2017/10/31 01:06:15 [INFO] The CA key and certificate were generated for CA 
2017/10/31 01:06:15 [INFO] The key was stored by BCCSP provider 'SW'
2017/10/31 01:06:15 [INFO] The certificate is at: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root/ca-cert.pem
2017/10/31 01:06:15 [DEBUG] Using sqlite database, connect to database in home (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root/fabric-ca-server.db) directory
2017/10/31 01:06:15 [DEBUG] Database (/home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root/fabric-ca-server.db) does not exist
2017/10/31 01:06:15 [DEBUG] Creating SQLite Database...
2017/10/31 01:06:15 [DEBUG] Database location: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root/fabric-ca-server.db
2017/10/31 01:06:15 [DEBUG] Creating tables...
2017/10/31 01:06:15 [DEBUG] Created users table
2017/10/31 01:06:15 [DEBUG] Created affiliation table
2017/10/31 01:06:15 [DEBUG] Created certificates table
2017/10/31 01:06:15 [DEBUG] Successfully opened sqlite3 DB
2017/10/31 01:06:15 [DEBUG] Initializing identity registry
2017/10/31 01:06:15 [DEBUG] Initialized DB identity registry
2017/10/31 01:06:15 [DEBUG] Loading identity table
2017/10/31 01:06:15 [DEBUG] Loading identity 'admin'
2017/10/31 01:06:15 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:15 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/10/31 01:06:15 [DEBUG] DB: Add identity admin
2017/10/31 01:06:15 [DEBUG] Successfully added identity admin to the database
2017/10/31 01:06:15 [DEBUG] Registered identity: { Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.Registrar.Roles:client,user,peer,validator,auditor hf.Registrar.DelegateRoles:client,user,validator,auditor hf.Revoker:1 hf.IntermediateCA:1]  }
2017/10/31 01:06:15 [DEBUG] Successfully loaded identity table
2017/10/31 01:06:15 [DEBUG] Loading affiliations table
2017/10/31 01:06:15 [DEBUG] Adding affiliation org2
2017/10/31 01:06:15 [DEBUG] DB: Add affiliation org2
2017/10/31 01:06:15 [DEBUG] Adding affiliation org2.department1
2017/10/31 01:06:15 [DEBUG] DB: Add affiliation org2.department1
2017/10/31 01:06:15 [DEBUG] Adding affiliation org1
2017/10/31 01:06:15 [DEBUG] DB: Add affiliation org1
2017/10/31 01:06:15 [DEBUG] Adding affiliation org1.department1
2017/10/31 01:06:15 [DEBUG] DB: Add affiliation org1.department1
2017/10/31 01:06:16 [DEBUG] Adding affiliation org1.department2
2017/10/31 01:06:16 [DEBUG] DB: Add affiliation org1.department2
2017/10/31 01:06:16 [DEBUG] Successfully loaded affiliations table
2017/10/31 01:06:16 [DEBUG] Successfully loaded groups table
2017/10/31 01:06:16 [INFO] Initialized sqlite3 database
2017/10/31 01:06:16 [DEBUG] Initializing enrollment signer
2017/10/31 01:06:16 [DEBUG] validating configuration
2017/10/31 01:06:16 [DEBUG] validate local profile
2017/10/31 01:06:16 [DEBUG] profile is valid
2017/10/31 01:06:16 [DEBUG] validate local profile
2017/10/31 01:06:16 [DEBUG] profile is valid
2017/10/31 01:06:16 [DEBUG] CA initialization successful
2017/10/31 01:06:16 [INFO] Home directory for default CA: /home/agiledeveloper/HLF/HyperledgerProjects/artprovenance/config/crypto-config/peerOrganizations/egyptianmuseum.org/ca/root
2017/10/31 01:06:16 [DEBUG] 1 CA instance(s) running on server
2017/10/31 01:06:16 [INFO] Listening on http://0.0.0.0:7102
2017/10/31 01:06:16 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["root","root"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBPzCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE15byp1NPsuxp/tnY\ncRTxtMVAuewEnN4d9pTrzx3snkSoO5/v9yTtuHR0R9N2d7NzYhS9N+82ZCod+oiG\n7UDXgaAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK\nBggqhkjOPQQDAgNHADBEAiB0Dv+ud8JIyoN+tpP6UKvrcbU41JjlAVvbUDMDDa9A\ngAIgYi3puVCkvYz1ZKRHqytmN9/JVqKYPNoxRYXO1in45Rs=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:16 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:16 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:16 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 0
2017/10/31 01:06:16 [DEBUG] Successfully incremented state for identity admin to 1
2017/10/31 01:06:16 [DEBUG] DB: identity admin successfully logged in
2017/10/31 01:06:16 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:16 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:16 [DEBUG] Enrollment request: {SignRequest:{Hosts:[root root] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBPzCB5wIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE15byp1NPsuxp/tnY
cRTxtMVAuewEnN4d9pTrzx3snkSoO5/v9yTtuHR0R9N2d7NzYhS9N+82ZCod+oiG
7UDXgaAoMCYGCSqGSIb3DQEJDjEZMBcwFQYDVR0RBA4wDIIEcm9vdIIEcm9vdDAK
BggqhkjOPQQDAgNHADBEAiB0Dv+ud8JIyoN+tpP6UKvrcbU41JjlAVvbUDMDDa9A
gAIgYi3puVCkvYz1ZKRHqytmN9/JVqKYPNoxRYXO1in45Rs=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:16 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/10/31 01:06:16 [DEBUG] CSR authorization check passed
2017/10/31 01:06:16 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:16 [INFO] signed certificate with serial number 492862134314549074142388504414059156073656992232
2017/10/31 01:06:16 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:16 [DEBUG] Saved serial number as hex 5654b3d48d6b62f6b3754e0d2ed812f2e759c1e8
2017/10/31 01:06:16 [DEBUG] saved certificate with serial number 492862134314549074142388504414059156073656992232
2017/10/31 01:06:16 [INFO] [::1]:44970 - "POST /enroll" 200
2017/10/31 01:06:16 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBQjCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoubo4HpP+6bIX+hb\nDO8KiHfksRAxuTykVoYqRMwPSr6FkPWeir/21gOt8ckfkYb3dHI/2iA+EyMhZ6wa\nvlafHKAqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy\nMAoGCCqGSM49BAMCA0gAMEUCIQDqXQllWcVMgeLq6mmAOq0O53eMrkxh7cHc91dw\nSIVOjwIgSC9LCUlRFG4FZX6WZ/9wd+3FeqPoTjWBcDghnqGwK08=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:16 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:16 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:16 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 1
2017/10/31 01:06:17 [DEBUG] Successfully incremented state for identity admin to 2
2017/10/31 01:06:17 [DEBUG] DB: identity admin successfully logged in
2017/10/31 01:06:17 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:17 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:17 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBQjCB6QIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoubo4HpP+6bIX+hb
DO8KiHfksRAxuTykVoYqRMwPSr6FkPWeir/21gOt8ckfkYb3dHI/2iA+EyMhZ6wa
vlafHKAqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0RBBAwDoIMVWJ1bnR1U2VydmVy
MAoGCCqGSM49BAMCA0gAMEUCIQDqXQllWcVMgeLq6mmAOq0O53eMrkxh7cHc91dw
SIVOjwIgSC9LCUlRFG4FZX6WZ/9wd+3FeqPoTjWBcDghnqGwK08=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:17 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/10/31 01:06:17 [DEBUG] CSR authorization check passed
2017/10/31 01:06:17 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:17 [INFO] signed certificate with serial number 157570005776954191552120282941158962872488302460
2017/10/31 01:06:17 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:17 [DEBUG] Saved serial number as hex 1b99aef51fe694f2597f7f5efb43b6fae9f8177c
2017/10/31 01:06:17 [DEBUG] saved certificate with serial number 157570005776954191552120282941158962872488302460
2017/10/31 01:06:17 [INFO] [::1]:44972 - "POST /enroll" 200
2017/10/31 01:06:17 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVRzVtdTlSL21sUEpaZjM5ZSswTzIrdW40RjN3d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRBek1ESXhNREV3TUZvWERURTRNVEF6TURJeE1ERXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLTG02T0I2VC91bXlGL29Xd3p2Q29oMzVMRVFNYms4cEZhR0trVE0KRDBxK2haRDFub3EvOXRZRHJmSEpINUdHOTNSeVA5b2dQaE1qSVdlc0dyNVdueHlqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSenk1dnpYSnNhMUhmTWQ2Nm9xWkxDCm1yYVNSekFmQmdOVkhTTUVHREFXZ0JTOGR6UzBmTnpkcFpkTlZqUlpxcUovNGEvOFl6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdmUmdpUW9jWS9JQlhFKzd3eWRNSQpDVkl2MEFCZ0c4Q1BrbzFKT1lTdTRCY0NJSDU3WmVZd1N5TCtRYlZKNWdaWVlFSHVGeDZCYkF4UHBwN1h6cFhSCk5meXQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEUCIQCKFi0kaN4pUmkHpbz7uI7R4xR9VNAAywjJB3mw2jCA2gIgGdrO6KEVa2o7E69S5sheJOYI4BV9Iq35JazspMssZ3o=
{"id":"nodeAdmin","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/10/31 01:06:17 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:17 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/10/31 01:06:17 [DEBUG] DB: Get certificate by serial (1b99aef51fe694f2597f7f5efb43b6fae9f8177c) and aki (bc7734b47cdcdda5974d563459aaa27fe1affc63)
2017/10/31 01:06:17 [DEBUG] Successful authentication of 'admin'
2017/10/31 01:06:17 [DEBUG] Register request received
2017/10/31 01:06:17 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:nodeAdmin Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/10/31 01:06:17 [DEBUG] canRegister - Check to see if user admin can register
2017/10/31 01:06:17 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:17 [DEBUG] Validate ID
2017/10/31 01:06:17 [DEBUG] An affiliation is required for identity type user
2017/10/31 01:06:17 [DEBUG] Validating affiliation: org1
2017/10/31 01:06:17 [DEBUG] DB: Get affiliation org1
2017/10/31 01:06:17 [DEBUG] Registering user id: nodeAdmin
2017/10/31 01:06:17 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/10/31 01:06:17 [DEBUG] DB: Getting identity nodeAdmin
2017/10/31 01:06:17 [DEBUG] DB: Add identity nodeAdmin
2017/10/31 01:06:17 [DEBUG] Successfully added identity nodeAdmin to the database
2017/10/31 01:06:17 [DEBUG] Registration completed - sending response 0xc42000e1d0
2017/10/31 01:06:17 [INFO] [::1]:44974 - "POST /register" 200
2017/10/31 01:06:17 [DEBUG] Received request
POST /enroll
Authorization: Basic bm9kZUFkbWluOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBRTCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV\nBAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABH9RVtDERfFg\nijj22dNOXHwEA1cCK3/Jk/PKy2O5pbzXiDOPbKQ8SJdAgGAIxWHjYS65KuRiepbY\nOloFZjyRJOGgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl\ncnZlcjAKBggqhkjOPQQDAgNHADBEAiBsg19A6Wy3ShGRsiwZ5uS4T1wNrOwSPPVq\n1HiyYlxlPAIga21ffUkC5SzJ2o4yV87jEAnPzGq3x3eWa1KfhtyTiYg=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:17 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:17 [DEBUG] DB: Getting identity nodeAdmin
2017/10/31 01:06:17 [DEBUG] DB: Login user nodeAdmin with max enrollments of -1 and state of 0
2017/10/31 01:06:17 [DEBUG] Successfully incremented state for identity nodeAdmin to 1
2017/10/31 01:06:17 [DEBUG] DB: identity nodeAdmin successfully logged in
2017/10/31 01:06:17 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:17 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:17 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBRTCB7QIBADBhMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxEjAQBgNV
BAMTCW5vZGVBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABH9RVtDERfFg
ijj22dNOXHwEA1cCK3/Jk/PKy2O5pbzXiDOPbKQ8SJdAgGAIxWHjYS65KuRiepbY
OloFZjyRJOGgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1UdEQQQMA6CDFVidW50dVNl
cnZlcjAKBggqhkjOPQQDAgNHADBEAiBsg19A6Wy3ShGRsiwZ5uS4T1wNrOwSPPVq
1HiyYlxlPAIga21ffUkC5SzJ2o4yV87jEAnPzGq3x3eWa1KfhtyTiYg=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:17 [DEBUG] csrAuthCheck: enrollment ID=nodeAdmin, CommonName=nodeAdmin, Subject=<nil>
2017/10/31 01:06:17 [DEBUG] CSR authorization check passed
2017/10/31 01:06:17 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:17 [INFO] signed certificate with serial number 459598790579338344058339669753382827143661512583
2017/10/31 01:06:17 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:17 [DEBUG] Saved serial number as hex 50811f5eed4a986ddb56f317a8a6126b2c966787
2017/10/31 01:06:17 [DEBUG] saved certificate with serial number 459598790579338344058339669753382827143661512583
2017/10/31 01:06:17 [INFO] [::1]:44976 - "POST /enroll" 200
2017/10/31 01:06:17 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVRzVtdTlSL21sUEpaZjM5ZSswTzIrdW40RjN3d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRBek1ESXhNREV3TUZvWERURTRNVEF6TURJeE1ERXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLTG02T0I2VC91bXlGL29Xd3p2Q29oMzVMRVFNYms4cEZhR0trVE0KRDBxK2haRDFub3EvOXRZRHJmSEpINUdHOTNSeVA5b2dQaE1qSVdlc0dyNVdueHlqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSenk1dnpYSnNhMUhmTWQ2Nm9xWkxDCm1yYVNSekFmQmdOVkhTTUVHREFXZ0JTOGR6UzBmTnpkcFpkTlZqUlpxcUovNGEvOFl6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdmUmdpUW9jWS9JQlhFKzd3eWRNSQpDVkl2MEFCZ0c4Q1BrbzFKT1lTdTRCY0NJSDU3WmVZd1N5TCtRYlZKNWdaWVlFSHVGeDZCYkF4UHBwN1h6cFhSCk5meXQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEUCIQCm7xy7v9QNIWnNWY63pCehjaIbBwk3cEyyx37t6hs/ZAIgdjQ0wbCZlmzyMyZfC063BqdH7Hsc5A10XTxc0M89TLU=
{"id":"User1@egyptianmuseum.org","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/10/31 01:06:17 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:17 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/10/31 01:06:17 [DEBUG] DB: Get certificate by serial (1b99aef51fe694f2597f7f5efb43b6fae9f8177c) and aki (bc7734b47cdcdda5974d563459aaa27fe1affc63)
2017/10/31 01:06:17 [DEBUG] Successful authentication of 'admin'
2017/10/31 01:06:17 [DEBUG] Register request received
2017/10/31 01:06:17 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:User1@egyptianmuseum.org Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/10/31 01:06:17 [DEBUG] canRegister - Check to see if user admin can register
2017/10/31 01:06:17 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:17 [DEBUG] Validate ID
2017/10/31 01:06:17 [DEBUG] An affiliation is required for identity type user
2017/10/31 01:06:17 [DEBUG] Validating affiliation: org1
2017/10/31 01:06:17 [DEBUG] DB: Get affiliation org1
2017/10/31 01:06:17 [DEBUG] Registering user id: User1@egyptianmuseum.org
2017/10/31 01:06:17 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/10/31 01:06:17 [DEBUG] DB: Getting identity User1@egyptianmuseum.org
2017/10/31 01:06:17 [DEBUG] DB: Add identity User1@egyptianmuseum.org
2017/10/31 01:06:17 [DEBUG] Successfully added identity User1@egyptianmuseum.org to the database
2017/10/31 01:06:17 [DEBUG] Registration completed - sending response 0xc420172060
2017/10/31 01:06:17 [INFO] [::1]:44978 - "POST /register" 200
2017/10/31 01:06:18 [DEBUG] Received request
POST /enroll
Authorization: Basic VXNlcjFAZWd5cHRpYW5tdXNldW0ub3JnOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBVTCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV\nBAMMGFVzZXIxQGVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABL2P+RaWOjWkGXj208U+34hOOQFPn0P5cwtgkxqmmAbsp6dtiMv7ASQ6\n1MxSWYMQDrz8ZASxSRZ6y+QRtV8G//ugKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud\nEQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEA2bbas6TwnTXg\nQKYPPqnL9OJnG1cYnHDh1HPr1hs8Sw8CIAINl2gFBC64uadsgbftq4j/yaoN+d97\nMLO+d7ErKbNm\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:18 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:18 [DEBUG] DB: Getting identity User1@egyptianmuseum.org
2017/10/31 01:06:18 [DEBUG] DB: Login user User1@egyptianmuseum.org with max enrollments of -1 and state of 0
2017/10/31 01:06:18 [DEBUG] Successfully incremented state for identity User1@egyptianmuseum.org to 1
2017/10/31 01:06:18 [DEBUG] DB: identity User1@egyptianmuseum.org successfully logged in
2017/10/31 01:06:18 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:18 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:18 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBVTCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV
BAMMGFVzZXIxQGVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49
AwEHA0IABL2P+RaWOjWkGXj208U+34hOOQFPn0P5cwtgkxqmmAbsp6dtiMv7ASQ6
1MxSWYMQDrz8ZASxSRZ6y+QRtV8G//ugKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud
EQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEA2bbas6TwnTXg
QKYPPqnL9OJnG1cYnHDh1HPr1hs8Sw8CIAINl2gFBC64uadsgbftq4j/yaoN+d97
MLO+d7ErKbNm
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:18 [DEBUG] csrAuthCheck: enrollment ID=User1@egyptianmuseum.org, CommonName=User1@egyptianmuseum.org, Subject=<nil>
2017/10/31 01:06:18 [DEBUG] CSR authorization check passed
2017/10/31 01:06:18 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:18 [INFO] signed certificate with serial number 591262530121571147654463778647260581026783373122
2017/10/31 01:06:18 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:18 [DEBUG] Saved serial number as hex 679120fa06e9636d0a807333d00686326f9d2742
2017/10/31 01:06:18 [DEBUG] saved certificate with serial number 591262530121571147654463778647260581026783373122
2017/10/31 01:06:18 [INFO] [::1]:44980 - "POST /enroll" 200
2017/10/31 01:06:18 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer0.egyptianmuseum.org","peer0"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBVTCB/AIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEJRq7LP8s0TePHbjK\nIpeU80qZqyRovfSVueMyupmpIa94cfFXV8wGzg24evO8ItrOIRmvqO/16ONcbxtA\nx1a5D6A9MDsGCSqGSIb3DQEJDjEuMCwwKgYDVR0RBCMwIYIYcGVlcjAuZWd5cHRp\nYW5tdXNldW0ub3JnggVwZWVyMDAKBggqhkjOPQQDAgNIADBFAiEA6YrzuPCUFHIl\nP5hSiKWte42s1gsJwbNCsAgSJP0ndq8CIE9ZSt09MBWJUG+NqJ+usIjcZJfLGkgt\nys+T8mMFWSQs\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:18 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:18 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:18 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 2
2017/10/31 01:06:18 [DEBUG] Successfully incremented state for identity admin to 3
2017/10/31 01:06:18 [DEBUG] DB: identity admin successfully logged in
2017/10/31 01:06:18 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:18 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:18 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer0.egyptianmuseum.org peer0] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBVTCB/AIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEJRq7LP8s0TePHbjK
IpeU80qZqyRovfSVueMyupmpIa94cfFXV8wGzg24evO8ItrOIRmvqO/16ONcbxtA
x1a5D6A9MDsGCSqGSIb3DQEJDjEuMCwwKgYDVR0RBCMwIYIYcGVlcjAuZWd5cHRp
YW5tdXNldW0ub3JnggVwZWVyMDAKBggqhkjOPQQDAgNIADBFAiEA6YrzuPCUFHIl
P5hSiKWte42s1gsJwbNCsAgSJP0ndq8CIE9ZSt09MBWJUG+NqJ+usIjcZJfLGkgt
ys+T8mMFWSQs
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:18 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/10/31 01:06:18 [DEBUG] CSR authorization check passed
2017/10/31 01:06:18 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:18 [INFO] signed certificate with serial number 440537791755140350746644844614978929523976494173
2017/10/31 01:06:18 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:18 [DEBUG] Saved serial number as hex 4d2a65d5d469508332da72371497e3252e1adc5d
2017/10/31 01:06:18 [DEBUG] saved certificate with serial number 440537791755140350746644844614978929523976494173
2017/10/31 01:06:18 [INFO] [::1]:44982 - "POST /enroll" 200
2017/10/31 01:06:18 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVRzVtdTlSL21sUEpaZjM5ZSswTzIrdW40RjN3d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRBek1ESXhNREV3TUZvWERURTRNVEF6TURJeE1ERXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLTG02T0I2VC91bXlGL29Xd3p2Q29oMzVMRVFNYms4cEZhR0trVE0KRDBxK2haRDFub3EvOXRZRHJmSEpINUdHOTNSeVA5b2dQaE1qSVdlc0dyNVdueHlqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSenk1dnpYSnNhMUhmTWQ2Nm9xWkxDCm1yYVNSekFmQmdOVkhTTUVHREFXZ0JTOGR6UzBmTnpkcFpkTlZqUlpxcUovNGEvOFl6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdmUmdpUW9jWS9JQlhFKzd3eWRNSQpDVkl2MEFCZ0c4Q1BrbzFKT1lTdTRCY0NJSDU3WmVZd1N5TCtRYlZKNWdaWVlFSHVGeDZCYkF4UHBwN1h6cFhSCk5meXQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEQCID4h67nQUn5+T3WJme9dVnurnykBm8o1XoW/K2HS1+M0AiAyDnxDZJrPI9S/PJh6Qf2U/+SPdxkHEfZURpueh+eS4Q==
{"id":"peer0.egyptianmuseum.org","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/10/31 01:06:18 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:18 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/10/31 01:06:18 [DEBUG] DB: Get certificate by serial (1b99aef51fe694f2597f7f5efb43b6fae9f8177c) and aki (bc7734b47cdcdda5974d563459aaa27fe1affc63)
2017/10/31 01:06:18 [DEBUG] Successful authentication of 'admin'
2017/10/31 01:06:18 [DEBUG] Register request received
2017/10/31 01:06:18 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer0.egyptianmuseum.org Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/10/31 01:06:18 [DEBUG] canRegister - Check to see if user admin can register
2017/10/31 01:06:18 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:18 [DEBUG] Validate ID
2017/10/31 01:06:18 [DEBUG] An affiliation is required for identity type user
2017/10/31 01:06:18 [DEBUG] Validating affiliation: org1
2017/10/31 01:06:18 [DEBUG] DB: Get affiliation org1
2017/10/31 01:06:18 [DEBUG] Registering user id: peer0.egyptianmuseum.org
2017/10/31 01:06:18 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/10/31 01:06:18 [DEBUG] DB: Getting identity peer0.egyptianmuseum.org
2017/10/31 01:06:18 [DEBUG] DB: Add identity peer0.egyptianmuseum.org
2017/10/31 01:06:18 [DEBUG] Successfully added identity peer0.egyptianmuseum.org to the database
2017/10/31 01:06:18 [DEBUG] Registration completed - sending response 0xc42000e118
2017/10/31 01:06:18 [INFO] [::1]:44984 - "POST /register" 200
2017/10/31 01:06:18 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjAuZWd5cHRpYW5tdXNldW0ub3JnOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBVTCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV\nBAMTGHBlZXIwLmVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABDNMMfXu3l8xrzWWeAjJ4Dp7yCyfNwnctl72D91QCHYTEPoweBZcDijX\ndo6n6msMdFfIA6Gf+WHl3mBeDaTCHr2gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud\nEQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAx50StlGG2yES\n+MiHChQyAZAXNAb+ilLGiKL2PCJQljcCIAOV+e4ZFk5kmZNHScUd7Kdk4dfdJW9e\ng0g02TfKM5xH\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:18 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:18 [DEBUG] DB: Getting identity peer0.egyptianmuseum.org
2017/10/31 01:06:18 [DEBUG] DB: Login user peer0.egyptianmuseum.org with max enrollments of -1 and state of 0
2017/10/31 01:06:19 [DEBUG] Successfully incremented state for identity peer0.egyptianmuseum.org to 1
2017/10/31 01:06:19 [DEBUG] DB: identity peer0.egyptianmuseum.org successfully logged in
2017/10/31 01:06:19 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:19 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:19 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBVTCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV
BAMTGHBlZXIwLmVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49
AwEHA0IABDNMMfXu3l8xrzWWeAjJ4Dp7yCyfNwnctl72D91QCHYTEPoweBZcDijX
do6n6msMdFfIA6Gf+WHl3mBeDaTCHr2gKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud
EQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNIADBFAiEAx50StlGG2yES
+MiHChQyAZAXNAb+ilLGiKL2PCJQljcCIAOV+e4ZFk5kmZNHScUd7Kdk4dfdJW9e
g0g02TfKM5xH
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:19 [DEBUG] csrAuthCheck: enrollment ID=peer0.egyptianmuseum.org, CommonName=peer0.egyptianmuseum.org, Subject=<nil>
2017/10/31 01:06:19 [DEBUG] CSR authorization check passed
2017/10/31 01:06:19 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:19 [INFO] signed certificate with serial number 672776206814836630779374048051561444345168321743
2017/10/31 01:06:19 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:19 [DEBUG] Saved serial number as hex 75d85418323b61417083bf415182890d07d4dccf
2017/10/31 01:06:19 [DEBUG] saved certificate with serial number 672776206814836630779374048051561444345168321743
2017/10/31 01:06:19 [INFO] [::1]:44986 - "POST /enroll" 200
2017/10/31 01:06:19 [DEBUG] Received request
POST /enroll
Authorization: Basic YWRtaW46YWRtaW5wdw==
{"hosts":["peer1.egyptianmuseum.org","peer1"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBVDCB/AIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV\nBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeg4YeJMQeo9Wl/SD\nGeZNBBnhqBj0NjnEmn1RL298Oco5aRA4GCWYYkc9/x8TVLqt6TD2gtcWhLeDNKFS\npYm1UqA9MDsGCSqGSIb3DQEJDjEuMCwwKgYDVR0RBCMwIYIYcGVlcjEuZWd5cHRp\nYW5tdXNldW0ub3JnggVwZWVyMTAKBggqhkjOPQQDAgNHADBEAiBJGCnybH7YnoRY\nyF7IjR9eyAPjaF7YUtXhvNzQbf7voQIgeB5QUm7DoI9TWUV92NgEHI+VGx6VYG3i\nFT0l+5usFAM=\n-----END CERTIFICATE REQUEST-----\n","profile":"tls","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:19 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:19 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:19 [DEBUG] DB: Login user admin with max enrollments of -1 and state of 3
2017/10/31 01:06:19 [DEBUG] Successfully incremented state for identity admin to 4
2017/10/31 01:06:19 [DEBUG] DB: identity admin successfully logged in
2017/10/31 01:06:19 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:19 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:19 [DEBUG] Enrollment request: {SignRequest:{Hosts:[peer1.egyptianmuseum.org peer1] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBVDCB/AIBADBdMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxDjAMBgNV
BAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeg4YeJMQeo9Wl/SD
GeZNBBnhqBj0NjnEmn1RL298Oco5aRA4GCWYYkc9/x8TVLqt6TD2gtcWhLeDNKFS
pYm1UqA9MDsGCSqGSIb3DQEJDjEuMCwwKgYDVR0RBCMwIYIYcGVlcjEuZWd5cHRp
YW5tdXNldW0ub3JnggVwZWVyMTAKBggqhkjOPQQDAgNHADBEAiBJGCnybH7YnoRY
yF7IjR9eyAPjaF7YUtXhvNzQbf7voQIgeB5QUm7DoI9TWUV92NgEHI+VGx6VYG3i
FT0l+5usFAM=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile:tls CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:19 [DEBUG] csrAuthCheck: enrollment ID=admin, CommonName=admin, Subject=<nil>
2017/10/31 01:06:19 [DEBUG] CSR authorization check passed
2017/10/31 01:06:19 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:19 [INFO] signed certificate with serial number 167225064726891040295865371486469689358818215913
2017/10/31 01:06:19 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:19 [DEBUG] Saved serial number as hex 1d4aa1994181515597d7f385948c13b17ddc07e9
2017/10/31 01:06:19 [DEBUG] saved certificate with serial number 167225064726891040295865371486469689358818215913
2017/10/31 01:06:19 [INFO] [::1]:44988 - "POST /enroll" 200
2017/10/31 01:06:19 [DEBUG] Received request
POST /register
Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNQekNDQWVhZ0F3SUJBZ0lVRzVtdTlSL21sUEpaZjM5ZSswTzIrdW40RjN3d0NnWUlLb1pJemowRUF3SXcKYURFTE1Ba0dBMVVFQmhNQ1ZWTXhGekFWQmdOVkJBZ1REazV2Y25Sb0lFTmhjbTlzYVc1aE1SUXdFZ1lEVlFRSwpFd3RJZVhCbGNteGxaR2RsY2pFUE1BMEdBMVVFQ3hNR1JtRmljbWxqTVJrd0Z3WURWUVFERXhCbVlXSnlhV010ClkyRXRjMlZ5ZG1WeU1CNFhEVEUzTVRBek1ESXhNREV3TUZvWERURTRNVEF6TURJeE1ERXdNRm93WFRFTE1Ba0cKQTFVRUJoTUNWVk14RnpBVkJnTlZCQWdURGs1dmNuUm9JRU5oY205c2FXNWhNUlF3RWdZRFZRUUtFd3RJZVhCbApjbXhsWkdkbGNqRVBNQTBHQTFVRUN4TUdSbUZpY21sak1RNHdEQVlEVlFRREV3VmhaRzFwYmpCWk1CTUdCeXFHClNNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJLTG02T0I2VC91bXlGL29Xd3p2Q29oMzVMRVFNYms4cEZhR0trVE0KRDBxK2haRDFub3EvOXRZRHJmSEpINUdHOTNSeVA5b2dQaE1qSVdlc0dyNVdueHlqZVRCM01BNEdBMVVkRHdFQgovd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJSenk1dnpYSnNhMUhmTWQ2Nm9xWkxDCm1yYVNSekFmQmdOVkhTTUVHREFXZ0JTOGR6UzBmTnpkcFpkTlZqUlpxcUovNGEvOFl6QVhCZ05WSFJFRUVEQU8KZ2d4VlluVnVkSFZUWlhKMlpYSXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdmUmdpUW9jWS9JQlhFKzd3eWRNSQpDVkl2MEFCZ0c4Q1BrbzFKT1lTdTRCY0NJSDU3WmVZd1N5TCtRYlZKNWdaWVlFSHVGeDZCYkF4UHBwN1h6cFhSCk5meXQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=.MEUCIQD/COro3+Kn4WARQHFCusP7b0DsFZtUJxjnHSxytsmuqwIgVQsumU6tQqKsCpoTLnuX9phyFOxCNWUBuajsEUYO9To=
{"id":"peer1.egyptianmuseum.org","type":"user","secret":"secret","max_enrollments":-1,"affiliation":"org1","attrs":[{"name":"","value":""}]}
2017/10/31 01:06:19 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:19 [DEBUG] Checking for revocation/expiration of certificate owned by 'admin'
2017/10/31 01:06:19 [DEBUG] DB: Get certificate by serial (1b99aef51fe694f2597f7f5efb43b6fae9f8177c) and aki (bc7734b47cdcdda5974d563459aaa27fe1affc63)
2017/10/31 01:06:19 [DEBUG] Successful authentication of 'admin'
2017/10/31 01:06:19 [DEBUG] Register request received
2017/10/31 01:06:19 [DEBUG] Received registration request from admin: &{RegistrationRequest:{Name:peer1.egyptianmuseum.org Type:user Secret:<<user-specified>> MaxEnrollments:-1 Affiliation:org1 Attributes:[{Name: Value:}] CAName:}}
2017/10/31 01:06:19 [DEBUG] canRegister - Check to see if user admin can register
2017/10/31 01:06:19 [DEBUG] DB: Getting identity admin
2017/10/31 01:06:19 [DEBUG] Validate ID
2017/10/31 01:06:19 [DEBUG] An affiliation is required for identity type user
2017/10/31 01:06:19 [DEBUG] Validating affiliation: org1
2017/10/31 01:06:19 [DEBUG] DB: Get affiliation org1
2017/10/31 01:06:19 [DEBUG] Registering user id: peer1.egyptianmuseum.org
2017/10/31 01:06:19 [DEBUG] Max enrollment value verification - User specified max enrollment: -1, CA max enrollment: -1
2017/10/31 01:06:19 [DEBUG] DB: Getting identity peer1.egyptianmuseum.org
2017/10/31 01:06:19 [DEBUG] DB: Add identity peer1.egyptianmuseum.org
2017/10/31 01:06:19 [DEBUG] Successfully added identity peer1.egyptianmuseum.org to the database
2017/10/31 01:06:19 [DEBUG] Registration completed - sending response 0xc4201721d0
2017/10/31 01:06:19 [INFO] [::1]:44990 - "POST /register" 200
2017/10/31 01:06:19 [DEBUG] Received request
POST /enroll
Authorization: Basic cGVlcjEuZWd5cHRpYW5tdXNldW0ub3JnOnNlY3JldA==
{"hosts":["UbuntuServer"],"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIIBVDCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV\nBAMTGHBlZXIxLmVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABD7bOc5bfPD2400jJgc3cndKTyEvnVUr4Kd6FzQ5kAmjVkdcv28oGJCy\nUWOeIz8nWVlsgBLznGWJ/cQh7w+MwDmgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud\nEQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiAtPsYMQE1bmbeh\nDqQzSlUxYSApXhsHVOeWQtyEMZiH8AIgTlr/W3OkagKnyIEg4MSLWxJrVeS4Ad5a\ngeNP/w3GoJ0=\n-----END CERTIFICATE REQUEST-----\n","profile":"","crl_override":"","label":"","CAName":""}
2017/10/31 01:06:19 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:19 [DEBUG] DB: Getting identity peer1.egyptianmuseum.org
2017/10/31 01:06:19 [DEBUG] DB: Login user peer1.egyptianmuseum.org with max enrollments of -1 and state of 0
2017/10/31 01:06:20 [DEBUG] Successfully incremented state for identity peer1.egyptianmuseum.org to 1
2017/10/31 01:06:20 [DEBUG] DB: identity peer1.egyptianmuseum.org successfully logged in
2017/10/31 01:06:20 [DEBUG] Identity/Pass was correct
2017/10/31 01:06:20 [DEBUG] Received request for endpoint enroll
2017/10/31 01:06:20 [DEBUG] Enrollment request: {SignRequest:{Hosts:[UbuntuServer] Request:-----BEGIN CERTIFICATE REQUEST-----
MIIBVDCB/AIBADBwMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp
bmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxITAfBgNV
BAMTGHBlZXIxLmVneXB0aWFubXVzZXVtLm9yZzBZMBMGByqGSM49AgEGCCqGSM49
AwEHA0IABD7bOc5bfPD2400jJgc3cndKTyEvnVUr4Kd6FzQ5kAmjVkdcv28oGJCy
UWOeIz8nWVlsgBLznGWJ/cQh7w+MwDmgKjAoBgkqhkiG9w0BCQ4xGzAZMBcGA1Ud
EQQQMA6CDFVidW50dVNlcnZlcjAKBggqhkjOPQQDAgNHADBEAiAtPsYMQE1bmbeh
DqQzSlUxYSApXhsHVOeWQtyEMZiH8AIgTlr/W3OkagKnyIEg4MSLWxJrVeS4Ad5a
geNP/w3GoJ0=
-----END CERTIFICATE REQUEST-----
 Subject:<nil> Profile: CRLOverride: Label: Serial:<nil> Extensions:[]} CAName:}
2017/10/31 01:06:20 [DEBUG] csrAuthCheck: enrollment ID=peer1.egyptianmuseum.org, CommonName=peer1.egyptianmuseum.org, Subject=<nil>
2017/10/31 01:06:20 [DEBUG] CSR authorization check passed
2017/10/31 01:06:20 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2017/10/31 01:06:20 [INFO] signed certificate with serial number 376165261639680808397295721941969236009050754410
2017/10/31 01:06:20 [DEBUG] DB: Insert Certificate
2017/10/31 01:06:20 [DEBUG] Saved serial number as hex 41e3d56e15240c60815d98bd5421574c7130cd6a
2017/10/31 01:06:20 [DEBUG] saved certificate with serial number 376165261639680808397295721941969236009050754410
2017/10/31 01:06:20 [INFO] [::1]:44992 - "POST /enroll" 200
2017/10/31 01:06:20 [DEBUG] Received request
POST /cainfo
Authorization: Basic YWRtaW46YWRtaW5wdw==
{}
2017/10/31 01:06:20 [DEBUG] Directing traffic to default CA
2017/10/31 01:06:20 [DEBUG] Received request for server info
2017/10/31 01:06:20 [INFO] [::1]:44994 - "POST /cainfo" 200
